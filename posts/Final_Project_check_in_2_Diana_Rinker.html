<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Diana Rinker">
<meta name="dcterms.date" content="2023-04-24">
<meta name="description" content="Final project DACSS 603">

<title>Final Project check-in 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/DACSS_Round_Network.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<meta name="twitter:title" content="Final Project check-in 2">
<meta name="twitter:description" content="Final project DACSS 603">
<meta name="twitter:image" content="https://dacss.github.io/603_Spring_2023/posts/Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-4-1.png">
<meta name="twitter:creator" content="@UMassDACSS">
<meta name="twitter:site" content="@UMassDACSS">
<meta name="twitter:image-height" content="960">
<meta name="twitter:image-width" content="1344">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/UMass White Wordmark Horiz.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://dacss.github.io/603_Spring_2023/" rel="" target="">
 <span class="menu-text">Spring 2023 Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">Contributors</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://umass.edu/sbs/dacss" rel="" target="">
 <span class="menu-text">DACSS</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://dacss.github.io/603_Spring_2023/" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#dacss-603-spring-2023" id="toc-dacss-603-spring-2023" class="nav-link active" data-scroll-target="#dacss-603-spring-2023">DACSS 603, spring 2023</a></li>
  <li><a href="#final-project-check-in-2-diana-rinker." id="toc-final-project-check-in-2-diana-rinker." class="nav-link" data-scroll-target="#final-project-check-in-2-diana-rinker.">Final Project check-in 2, Diana Rinker.</a></li>
  <li><a href="#introduction.-online-engagement" id="toc-introduction.-online-engagement" class="nav-link" data-scroll-target="#introduction.-online-engagement">Introduction. Online engagement</a>
  <ul class="collapse">
  <li><a href="#data-source-and-description." id="toc-data-source-and-description." class="nav-link" data-scroll-target="#data-source-and-description.">Data source and description.</a></li>
  </ul></li>
  <li><a href="#dv-popularity-and-engagement." id="toc-dv-popularity-and-engagement." class="nav-link" data-scroll-target="#dv-popularity-and-engagement.">1.DV: popularity and engagement.</a>
  <ul class="collapse">
  <li><a href="#popularity" id="toc-popularity" class="nav-link" data-scroll-target="#popularity">1.1.Popularity</a>
  <ul class="collapse">
  <li><a href="#page-views" id="toc-page-views" class="nav-link" data-scroll-target="#page-views">Page views</a></li>
  <li><a href="#page-visits-and-unique-users" id="toc-page-visits-and-unique-users" class="nav-link" data-scroll-target="#page-visits-and-unique-users">Page visits and unique users</a></li>
  <li><a href="#page-unique-viewers." id="toc-page-unique-viewers." class="nav-link" data-scroll-target="#page-unique-viewers.">Page unique viewers.</a></li>
  </ul></li>
  <li><a href="#engagement-metrics" id="toc-engagement-metrics" class="nav-link" data-scroll-target="#engagement-metrics">1.2. Engagement metrics:</a>
  <ul class="collapse">
  <li><a href="#visit-ratio-and-unique-ratio" id="toc-visit-ratio-and-unique-ratio" class="nav-link" data-scroll-target="#visit-ratio-and-unique-ratio">Visit ratio and unique ratio:</a></li>
  <li><a href="#exit-rate" id="toc-exit-rate" class="nav-link" data-scroll-target="#exit-rate">Exit rate</a></li>
  <li><a href="#number-of-reactions" id="toc-number-of-reactions" class="nav-link" data-scroll-target="#number-of-reactions">Number of reactions</a></li>
  <li><a href="#number-of-comments-engagement-metric-for-subset-of-readers.-absolute-and-per-views." id="toc-number-of-comments-engagement-metric-for-subset-of-readers.-absolute-and-per-views." class="nav-link" data-scroll-target="#number-of-comments-engagement-metric-for-subset-of-readers.-absolute-and-per-views.">Number of comments: engagement metric for subset of readers. Absolute and per views.</a></li>
  </ul></li>
  <li><a href="#impact-of-popularity-on-engagement." id="toc-impact-of-popularity-on-engagement." class="nav-link" data-scroll-target="#impact-of-popularity-on-engagement.">1.3 Impact of popularity on engagement.</a>
  <ul class="collapse">
  <li><a href="#modeling-engagement-popularity" id="toc-modeling-engagement-popularity" class="nav-link" data-scroll-target="#modeling-engagement-popularity">1.3.1. Modeling engagement ~ popularity:</a></li>
  <li><a href="#how-popularity-impacts-engagement-referral-sources." id="toc-how-popularity-impacts-engagement-referral-sources." class="nav-link" data-scroll-target="#how-popularity-impacts-engagement-referral-sources.">1.3.2. How popularity impacts engagement: Referral sources.</a></li>
  <li><a href="#early-commentsimpact" id="toc-early-commentsimpact" class="nav-link" data-scroll-target="#early-commentsimpact">Early comments’impact</a></li>
  <li><a href="#post-weekdays-to-the-model" id="toc-post-weekdays-to-the-model" class="nav-link" data-scroll-target="#post-weekdays-to-the-model">Post weekdays to the model</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">1.4.Conclusion</a>
  <ul class="collapse">
  <li><a href="#authors-comments" id="toc-authors-comments" class="nav-link" data-scroll-target="#authors-comments">Authors comments</a></li>
  <li><a href="#mood-of-the-post." id="toc-mood-of-the-post." class="nav-link" data-scroll-target="#mood-of-the-post.">Mood of the post.</a></li>
  <li><a href="#blocked-comments-per-post." id="toc-blocked-comments-per-post." class="nav-link" data-scroll-target="#blocked-comments-per-post.">Blocked comments per post.</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#creating-the-model-for-main-hypothesis-testing" id="toc-creating-the-model-for-main-hypothesis-testing" class="nav-link" data-scroll-target="#creating-the-model-for-main-hypothesis-testing">3. Creating the model for main hypothesis testing</a>
  <ul class="collapse">
  <li><a href="#basic-model." id="toc-basic-model." class="nav-link" data-scroll-target="#basic-model.">3.1 Basic model.</a>
  <ul class="collapse">
  <li><a href="#analize-change-in-x1-and-x2-to-y-considering-log" id="toc-analize-change-in-x1-and-x2-to-y-considering-log" class="nav-link" data-scroll-target="#analize-change-in-x1-and-x2-to-y-considering-log">analize change in x1 and x2 to y , considering log()</a></li>
  </ul></li>
  <li><a href="#adding-other-variables." id="toc-adding-other-variables." class="nav-link" data-scroll-target="#adding-other-variables.">3.2 Adding other variables.</a></li>
  <li><a href="#using-different-datasets-for-comparing" id="toc-using-different-datasets-for-comparing" class="nav-link" data-scroll-target="#using-different-datasets-for-comparing">3.3 Using different datasets for comparing:</a>
  <ul class="collapse">
  <li><a href="#exit-rate-for-2021-and-2022" id="toc-exit-rate-for-2021-and-2022" class="nav-link" data-scroll-target="#exit-rate-for-2021-and-2022">Exit rate for 2021 and 2022:</a></li>
  <li><a href="#number-of-comments-for-2021-and-2022" id="toc-number-of-comments-for-2021-and-2022" class="nav-link" data-scroll-target="#number-of-comments-for-2021-and-2022">Number of comments for 2021 and 2022:</a></li>
  <li><a href="#adding-a-weekday" id="toc-adding-a-weekday" class="nav-link" data-scroll-target="#adding-a-weekday">Adding a weekday:</a></li>
  <li><a href="#adding-early-comments" id="toc-adding-early-comments" class="nav-link" data-scroll-target="#adding-early-comments">Adding early comments:</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#conlusion" id="toc-conlusion" class="nav-link" data-scroll-target="#conlusion">4. Conlusion</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Final Project check-in 2</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>

<div>
  <div class="description">
    Final project DACSS 603
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Diana Rinker </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 24, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="dacss-603-spring-2023" class="level2">
<h2 class="anchored" data-anchor-id="dacss-603-spring-2023">DACSS 603, spring 2023</h2>
</section>
<section id="final-project-check-in-2-diana-rinker." class="level2">
<h2 class="anchored" data-anchor-id="final-project-check-in-2-diana-rinker.">Final Project check-in 2, Diana Rinker.</h2>
</section>
<section id="introduction.-online-engagement" class="level1">
<h1>Introduction. Online engagement</h1>
<p>It is well known that online engagement and popularity with the web resource is a highly valuable metric and is driving site revenue. This research project is exploring which factors contribute to users online engagement.</p>
<p>To do that I will use the data of an online blog on the news website. The author of this blog is posting articles about interpersonal relationships every work day (Mon- Fri). The posts are formulated as a letter from a reader with the situation and a question about relationships. The author gives an advice about the situation. Website readers are free to comment under each post, but cannot make their own posts.</p>
<p>All post methadata and comments are public. They are saved by the website and available for the analysis. Using this data set, I will explore how readers’ engagement connected with blogs’s author engagement, site comments’, web source of readers and negative behaviors online.</p>
<p>My research question is: Does the authors engagement in the conversation around the post makes readers more engaged and promotes positive interactions among them?</p>
<p><strong>DV:</strong> My dependent construct is <strong>“user’s engagement</strong>”, I will measure users’ engagement at the level of individual post, using the following metrics:</p>
<ol type="1">
<li>Page views</li>
<li>Page visits (one visit can contain a few views, if the person visits other pages on the site)</li>
<li>Unique users. One person can visit the same page a few times (it is calculated for all time since the page was posted).</li>
<li>Number of votes: “thums up” or “thumbs down”</li>
<li>Number of comments</li>
<li>Exit rate or “bounces”. When the visitor is coming to the page and then leaving, i.e.&nbsp;not opening other pages on this website.</li>
</ol>
<p>L2 - page readers * Reveal letter * Reveal comments</p>
<p><strong>IV:</strong> My main independent variable is <strong>Blog’s author engagement.</strong> I will measure authors engagement as the factor variable, with the following levels:</p>
<p>A. Unspecified comment</p>
<p>B. Featured comment</p>
<p>C. Engagement in conversation</p>
<p>To control for <strong>confounders,</strong> I will also measure the follwing variables:</p>
<ol type="1">
<li><p>Topic of the post (“post tag”), categorical variable.</p></li>
<li><p>Source of the readers, also categorical variable.</p></li>
<li><p>Mood of the conversation , derivative continuous variable calculated as the ratio of “likes” to “dislikes”.</p></li>
<li><p>Blocked and flagged comments.</p></li>
</ol>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
✔ tibble  3.1.8     ✔ purrr   1.0.1
✔ tidyr   1.3.0     ✔ stringr 1.5.0
✔ readr   2.1.4     ✔ forcats 1.0.0
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()</code></pre>
</div>
</div>
<section id="data-source-and-description." class="level3">
<h3 class="anchored" data-anchor-id="data-source-and-description.">Data source and description.</h3>
<p>To answer my research question I will use two datasets. the first data set has information about all comments associated with each post by post ID. The second data set is analytics data for the web bage. It contains one post per row and variables describe each post as a whole without breaking down to the comment level.</p>
<p>In this project I will analyze posts for January 2021 - February 2023. Here is the list of variables in each dataset: Post-level data:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "C:/Users/Diana/OneDrive - University Of Massachusetts Medical School/Documents/R/R working directory/DACSS/603/603_Spring_2023/posts"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First, I will load the data set with the comment level data:</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>raw <span class="ot">&lt;-</span> <span class="fu">as_tibble</span> (<span class="fu">read_csv</span>(<span class="st">"C:</span><span class="sc">\\</span><span class="st">Users</span><span class="sc">\\</span><span class="st">Diana</span><span class="sc">\\</span><span class="st">OneDrive - University Of Massachusetts Medical School</span><span class="sc">\\</span><span class="st">Documents</span><span class="sc">\\</span><span class="st">R</span><span class="sc">\\</span><span class="st">R working directory</span><span class="sc">\\</span><span class="st">DACSS</span><span class="sc">\\</span><span class="st">603</span><span class="sc">\\</span><span class="st">my study files for dacss603</span><span class="sc">\\</span><span class="st">globe</span><span class="sc">\\</span><span class="st"> data.2021.plus.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 105136 Columns: 17
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (6): content, user_name, display_name, image_url, email, approved
dbl  (7): message_id, post_id, user_id, parent, absolute_likes, absolute_dis...
lgl  (3): email_verified, created_at, private_profile
dttm (1): written_at

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>comments.data<span class="ot">&lt;-</span>raw </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span> (comments.data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "content"           "message_id"        "post_id"          
 [4] "user_id"           "user_name"         "display_name"     
 [7] "image_url"         "email"             "email_verified"   
[10] "created_at"        "private_profile"   "approved"         
[13] "written_at"        "parent"            "absolute_likes"   
[16] "absolute_dislikes" "comment.year"     </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(comments.data<span class="sc">$</span>written_at)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2021-01-01 08:28:44 UTC" "2021-01-01 08:57:08 UTC"
[3] "2021-01-01 10:36:58 UTC" "2021-01-01 11:13:13 UTC"
[5] "2021-01-01 12:27:44 UTC" "2021-01-01 12:51:48 UTC"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>comments.data <span class="ot">&lt;-</span>comments.data<span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>              <span class="fu">mutate</span>(<span class="at">com.year =</span> <span class="fu">format</span>(written_at,<span class="at">format =</span> <span class="st">"%Y"</span> ))</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># range(comments.data$com.year)</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># dim(comments.data)</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(comments.data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [105,136 × 18] (S3: tbl_df/tbl/data.frame)
 $ content          : chr [1:105136] "08:15  Dawn of the 21st year of the 21st century&lt;br/&gt;&amp;quot;21st Century Schizoid Man&amp;quot;  on the BOSE" "Liz:  😄" "Happy New Year to all y'all. And Ms. G, thank you for letting me play for another year playing in your sandbox." "Blog needs a new name - Hate Letters" ...
 $ message_id       : num [1:105136] 1.15e+08 1.15e+08 1.15e+08 1.15e+08 1.15e+08 ...
 $ post_id          : num [1:105136] 27071015 27071015 27071009 27071009 27071009 ...
 $ user_id          : num [1:105136] 2889100 1855822 5133556 5156343 5560421 ...
 $ user_name        : chr [1:105136] "Lefty49" "JacquiSmith" "Bzznlike-crazyman" "--SnowMan--" ...
 $ display_name     : chr [1:105136] "Lefty49" "JacquiSmith" "Bzznlike-crazyman" "--SnowMan--" ...
 $ image_url        : chr [1:105136] "https://u.o0bc.com/avatars/48/121/77/5077296.png?35" "https://u.o0bc.com/avatars/41/194/84/5554729.png?47" "https://u.o0bc.com/avatars/85/175/84/5549909.png?9" "https://u.o0bc.com/avatars/64/191/84/5553984.png?5" ...
 $ email            : chr [1:105136] "danwalker1949@aol.com" "amcr1124@comcast.net" "eflynn105@yahoo.com" "markedoc@yahoo.com" ...
 $ email_verified   : logi [1:105136] FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ created_at       : logi [1:105136] NA NA NA NA NA NA ...
 $ private_profile  : logi [1:105136] FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ approved         : chr [1:105136] "approved" "approved" "approved" "approved" ...
 $ written_at       : POSIXct[1:105136], format: "2021-01-01 08:28:44" "2021-01-01 08:57:08" ...
 $ parent           : num [1:105136] NA 1.15e+08 NA NA 1.15e+08 ...
 $ absolute_likes   : num [1:105136] 2 0 14 7 7 7 4 3 2 4 ...
 $ absolute_dislikes: num [1:105136] 1 0 1 0 1 1 1 1 1 0 ...
 $ comment.year     : num [1:105136] 2021 2021 2021 2021 2021 ...
 $ com.year         : chr [1:105136] "2021" "2021" "2021" "2021" ...</code></pre>
</div>
</div>
<p>Comment data:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Second, loadng post-level data :</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>merged <span class="ot">&lt;-</span> <span class="fu">as_tibble</span> (<span class="fu">read_csv</span>(<span class="st">"C:</span><span class="sc">\\</span><span class="st">Users</span><span class="sc">\\</span><span class="st">Diana</span><span class="sc">\\</span><span class="st">OneDrive - University Of Massachusetts Medical School</span><span class="sc">\\</span><span class="st">Documents</span><span class="sc">\\</span><span class="st">R</span><span class="sc">\\</span><span class="st">R working directory</span><span class="sc">\\</span><span class="st">DACSS</span><span class="sc">\\</span><span class="st">603</span><span class="sc">\\</span><span class="st">my study files for dacss603</span><span class="sc">\\</span><span class="st">globe</span><span class="sc">\\</span><span class="st">data.merged.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 535 Columns: 23
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr   (3): Letter, Exit rate, post.month
dbl  (18): Page views, Search + amp referral visits, Direct (non-email) refe...
num   (1): Visits when post was on LL HP
date  (1): post.date

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(merged)</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(merged)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [535 × 23] (S3: tbl_df/tbl/data.frame)
 $ post.date                         : Date[1:535], format: "2021-01-04" "2021-01-05" ...
 $ Letter                            : chr [1:535] "love letters | blog | I don&amp;'t want him to let me go" "love letters | blog | Should I be working to get her back?" "love letters | blog | I&amp;'m sick of thinking about the breakup" "love letters | blog | I don&amp;'t want to be selfish about 2020 Christmas" ...
 $ Page views                        : num [1:535] 14830 12067 11921 12817 12866 ...
 $ Search + amp referral visits      : num [1:535] 1005 822 793 765 934 ...
 $ Direct (non-email) referral visits: num [1:535] 10005 7948 7997 8746 8400 ...
 $ Visits                            : num [1:535] 12998 10391 10331 11040 10818 ...
 $ Uniques                           : num [1:535] 11453 8985 8917 9662 8564 ...
 $ Other website referral visits     : num [1:535] 129 232 106 152 139 153 165 157 85 151 ...
 $ Social referral visits            : num [1:535] 457 94 156 106 113 368 90 171 84 129 ...
 $ BDC referral visits               : num [1:535] 7087 5312 5185 5901 4570 ...
 $ Visits when post was on LL HP     : num [1:535] 3167 3323 2929 3056 4795 ...
 $ Exits                             : num [1:535] 9679 7549 7613 8188 7900 ...
 $ Exit rate                         : chr [1:535] "74%" "73%" "74%" "74%" ...
 $ dup                               : num [1:535] 0 0 0 0 0 0 0 0 0 0 ...
 $ post_id                           : num [1:535] 27071003 27070997 27070991 27070985 27070979 ...
 $ n.comments                        : num [1:535] 267 207 266 372 319 267 337 154 179 375 ...
 $ post.year                         : num [1:535] 2021 2021 2021 2021 2021 ...
 $ post.month                        : chr [1:535] "01" "01" "01" "01" ...
 $ post.likes                        : num [1:535] 1440 864 936 1497 1145 ...
 $ post.dislikes                     : num [1:535] 72 106 96 520 154 188 150 62 106 150 ...
 $ post.total.likes                  : num [1:535] 1512 970 1032 2017 1299 ...
 $ blocked.sum                       : num [1:535] 1 2 3 9 2 3 4 0 3 3 ...
 $ pct.positive                      : num [1:535] 95.2 89.1 90.7 74.2 88.1 ...</code></pre>
</div>
</div>
<p>Be</p>
<p>To begin, I will review available variables and evaluate whether it is a good measure for this study.</p>
</section>
</section>
<section id="dv-popularity-and-engagement." class="level1">
<h1>1.DV: popularity and engagement.</h1>
<section id="popularity" class="level2">
<h2 class="anchored" data-anchor-id="popularity">1.1.Popularity</h2>
<section id="page-views" class="level3">
<h3 class="anchored" data-anchor-id="page-views">Page views</h3>
<p>This is the most general metric, representing how many views the post received. Views do not distinguish repeated views by the same person.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># str(merged)</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span><span class="st">`</span><span class="at">Page views</span><span class="st">`</span>))<span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>merged<span class="sc">$</span>post.month <span class="ot">&lt;-</span><span class="fu">as.numeric</span>(merged<span class="sc">$</span>post.month)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>merged<span class="sc">$</span>year_month <span class="ot">&lt;-</span> <span class="fu">paste0</span>(merged<span class="sc">$</span>post.year, <span class="st">"-"</span>, <span class="fu">sprintf</span>(<span class="st">"%02d"</span>, merged<span class="sc">$</span>post.month))</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( <span class="at">data=</span>merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">y=</span><span class="st">`</span><span class="at">Page views</span><span class="st">`</span>, <span class="at">x=</span>year_month))<span class="sc">+</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_boxplot</span>()<span class="sc">+</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Number of post wiews per month"</span>, <span class="at">x=</span><span class="st">"Month"</span>, <span class="at">y=</span><span class="st">"Number of vews"</span>)<span class="sc">+</span> </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplot(data=merged, mapping=aes(x=log(`Page views`)))+</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_histogram()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>From this graph we can see that the numbers of views is increased over time. To get a better understanding of it, lets review other metrics.</p>
</section>
<section id="page-visits-and-unique-users" class="level3">
<h3 class="anchored" data-anchor-id="page-visits-and-unique-users">Page visits and unique users</h3>
<p>Visit is an instance of a user engaging with bdc website. The user can visit a few pages of the site and re-visit them, creaing few views in once visit.Once th user left the website, the visit is over.</p>
<p>There also can be many visits by the same viewer. To account for repeated users there is “Uniques” variable. It tells us how many unique users saw the post. The relationship will always be that</p>
<p>Uniques &lt; Visits &lt; Views</p>
<p>Lets plot them together:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># str(merged)</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="fu">aes</span>(<span class="at">x =</span>post.date )) <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">Page views</span><span class="st">`</span>, <span class="at">fill =</span> <span class="st">"Page views"</span>), <span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">width =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> Visits, <span class="at">fill =</span> <span class="st">"Visits"</span>), <span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">width =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> Uniques, <span class="at">fill =</span> <span class="st">"Unique users"</span>), <span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">width =</span> <span class="fl">0.6</span>)    <span class="sc">+</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>     <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Views, visits and unique users per month"</span>, <span class="at">x =</span> <span class="st">"Post.date"</span>, <span class="at">y =</span> <span class="st">"Value"</span>) <span class="sc">+</span> </span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This graph also shows increase in all three metrics in 2022-2023. To see how these metrics crrespond to each other, I will calculate “visits ratio” and “unique.ratio”.</p>
</section>
<section id="page-unique-viewers." class="level3">
<h3 class="anchored" data-anchor-id="page-unique-viewers.">Page unique viewers.</h3>
<p>Becuse “Uniques” variable represents number of unique people who came to the page and viewed it at least once, his metric represents popularity of the post. It’s distribution shows us that not all posts are equally popular:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(merged)</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>Uniques))<span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We can see a long tail on the right, showing that there is a number of posts who are way more popular. If we look at the distribution of this variable over time, we will see significant increase of average popularity after December 2021.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( <span class="at">data=</span>merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">y=</span>Uniques, <span class="at">x=</span>merged<span class="sc">$</span>year_month))<span class="sc">+</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_boxplot</span>()<span class="sc">+</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Number of unique viewers per month"</span>, <span class="at">x=</span><span class="st">"Month"</span>, <span class="at">y=</span><span class="st">"Number of unique viewers"</span>)<span class="sc">+</span> </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Use of `merged$year_month` is discouraged.
ℹ Use `year_month` instead.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="engagement-metrics" class="level2">
<h2 class="anchored" data-anchor-id="engagement-metrics">1.2. Engagement metrics:</h2>
<section id="visit-ratio-and-unique-ratio" class="level3">
<h3 class="anchored" data-anchor-id="visit-ratio-and-unique-ratio">Visit ratio and unique ratio:</h3>
<p>“visits ratio” is the number of visits per total views. This metric tells us how often the page being re-viewed. The lower the ratio means that the page was viewed more times during single visit. Since repeated view can be considered a higher engagement, the lower visit ratio indicates higher engagement.</p>
<p>“unique ratio” - number of unique users per total views. It is telling us how often the same person re-visited the post. Lower ratio indicates repeated users, therefore higher engagement.</p>
<p>Both ratios are always in the range of 0 - 1.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>  merged <span class="ot">&lt;-</span> merged <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">uniques.ratio =</span> Uniques <span class="sc">/</span> <span class="st">`</span><span class="at">Page views</span><span class="st">`</span>)<span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">visits.ratio =</span> Visits <span class="sc">/</span> <span class="st">`</span><span class="at">Page views</span><span class="st">`</span>)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># str(merged)</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>     <span class="fu">ggplot</span>(merged, <span class="fu">aes</span>( <span class="at">y =</span> uniques.ratio, <span class="at">x =</span>post.date, )) <span class="sc">+</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_point</span>(<span class="at">color =</span><span class="st">"green"</span> )    <span class="sc">+</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>          <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Unique.ratio per post "</span>, <span class="at">x =</span> <span class="st">"Post.date"</span>, <span class="at">y =</span> <span class="st">"Value"</span>) <span class="sc">+</span> </span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>          <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ggplot</span>(merged, <span class="fu">aes</span>( <span class="at">y =</span> visits.ratio, <span class="at">x =</span>post.date, )) <span class="sc">+</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_point</span>(<span class="at">color =</span><span class="st">"blue"</span> )    <span class="sc">+</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>          <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Visits.ratio per post "</span>, <span class="at">x =</span> <span class="st">"Post.date"</span>, <span class="at">y =</span> <span class="st">"Value"</span>) <span class="sc">+</span> </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>          <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-9-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>From the two graphs above we can see that the two variables are distributed very similarly.</p>
<p>If we plot them against each other and visualize their correlation, we can see that they highly correlated especially in higher values.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>      <span class="fu">plot</span>(merged<span class="sc">$</span>uniques.ratio, merged<span class="sc">$</span>visits.ratio)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>correlation <span class="ot">&lt;-</span> <span class="fu">cor</span>(merged<span class="sc">$</span>uniques.ratio, merged<span class="sc">$</span>visits.ratio)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>correlation</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.915789</code></pre>
</div>
</div>
<p>Density of the distribution also showing that most posts are visited once and by unique users, i.e.&nbsp;post is read once by each user.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># DENSITY DISTRIBUTION HERE </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="exit-rate" class="level3">
<h3 class="anchored" data-anchor-id="exit-rate">Exit rate</h3>
<p>This variable is measuring how many people visited the page and then left the website after the first view. This metric is the best measure of engagement for all users, as it represents the first step after being exposed to the post - either quitting the site or remaining on the site.</p>
<p>Here can see the distribution of this variable :</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># str(merged)</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>merged<span class="sc">$</span><span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">sub</span>(<span class="st">"%"</span>, <span class="st">""</span>, merged<span class="sc">$</span><span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span>)) <span class="sc">/</span> <span class="dv">100</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span><span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span>))<span class="sc">+</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We can also see consistent increase of this value ovr time, similar to the trend seen before:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>year_month , <span class="at">y=</span><span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span>, <span class="at">fill=</span>year_month ))<span class="sc">+</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"distribution of `Exit rate` per post "</span>, <span class="at">y =</span> <span class="st">"Exit rate"</span> , <span class="at">x=</span><span class="st">"Month"</span>)<span class="sc">+</span> </span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="number-of-reactions" class="level3">
<h3 class="anchored" data-anchor-id="number-of-reactions">Number of reactions</h3>
<p>This represents total amount of likes and dislikes of comments per post.To like/dislike the comment, user doesn’t have to log in.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># merged$year_month </span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(merged)</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>post.total.likes))<span class="sc">+</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()<span class="sc">+</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">" Number of all reactions per post"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Since we already saw that there is large variability in popularity of posts, which can natually impact absolute amount of reactions. To account for number of views, we calculate reactions.ratio:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>  merged <span class="ot">&lt;-</span> merged <span class="sc">%&gt;%</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">reactions.ratio =</span> post.total.likes <span class="sc">/</span> <span class="st">`</span><span class="at">Page views</span><span class="st">`</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># str(merged)</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>year_month , <span class="at">y=</span>reactions.ratio, <span class="at">fill=</span>year_month ))<span class="sc">+</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"distribution of reactions "</span>, <span class="at">y =</span> <span class="st">"Percentage of reactions "</span> )<span class="sc">+</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span> (<span class="at">from=</span><span class="dv">0</span>, <span class="at">to=</span> <span class="dv">10000</span>, <span class="at">by=</span> <span class="dv">100</span>)) <span class="sc">+</span> </span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The absolute number of reactions and the ratio appear to decrease over time.</p>
</section>
<section id="number-of-comments-engagement-metric-for-subset-of-readers.-absolute-and-per-views." class="level3">
<h3 class="anchored" data-anchor-id="number-of-comments-engagement-metric-for-subset-of-readers.-absolute-and-per-views.">Number of comments: engagement metric for subset of readers. Absolute and per views.</h3>
<p>To comment on the requires logging in from a user, which is an indicator of greater engagement of an individual user. Therefore this variable represents engagement of a subset of users - more loyal readers who have created an account.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># merged$year_month </span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>n.comments))<span class="sc">+</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>And change in the distribution over time:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>year_month , <span class="at">y=</span>n.comments, <span class="at">fill=</span>year_month ))<span class="sc">+</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"distribution of comments per post "</span>, <span class="at">y =</span> <span class="st">"Number of comments"</span> )<span class="sc">+</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span> (<span class="at">from=</span><span class="dv">0</span>, <span class="at">to=</span> <span class="dv">10000</span>, <span class="at">by=</span> <span class="dv">100</span>)) <span class="sc">+</span> </span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The trend in amount of comments over time is different. While previously reviewed variables seemed to increase over time, this variable decreases.</p>
<p>We can calculate the ratio of comments per If we compare absolute values fo comments and ratio of comments per page views, we see the decrease in both cases, while the ratio’s decrease is more dramatic:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>  merged <span class="ot">&lt;-</span> merged <span class="sc">%&gt;%</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">comments.ratio =</span> n.comments<span class="sc">/</span> <span class="st">`</span><span class="at">Page views</span><span class="st">`</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>year_month , <span class="at">y=</span>comments.ratio, <span class="at">fill=</span>year_month ))<span class="sc">+</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"distribution of comments ratio (comments/page views) "</span>, <span class="at">y =</span> <span class="st">"Number of comments"</span> )<span class="sc">+</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span> (<span class="at">from=</span><span class="dv">0</span>, <span class="at">to=</span> <span class="dv">10000</span>, <span class="at">by=</span> <span class="dv">100</span>)) <span class="sc">+</span> </span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>WE can see that with an increase of views (mostly driven by post popularity), comments ratio decreeases. So, newly added viewers are not adding to the engaged subset of readers. <!-- It is also more likely that the users who logged and commented will return to the post page , which would correspond with the decrased in visits.ratio and uniques.ratio).  --></p>
<p>The distribution of comments per post over time:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># str(merged)</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>year_month , <span class="at">y=</span>post.total.likes, <span class="at">fill=</span>year_month ))<span class="sc">+</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"distribution of reactions over time  "</span>, <span class="at">y =</span> <span class="st">"Percentage of reactions "</span> )<span class="sc">+</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span> (<span class="at">from=</span><span class="dv">0</span>, <span class="at">to=</span> <span class="dv">10000</span>, <span class="at">by=</span> <span class="dv">100</span>)) <span class="sc">+</span> </span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="impact-of-popularity-on-engagement." class="level2">
<h2 class="anchored" data-anchor-id="impact-of-popularity-on-engagement.">1.3 Impact of popularity on engagement.</h2>
<p>Since we noticed a pattern in distribution of describbed variables, lets find out how they are interconnected, and how popularity of the post impact users’ engagement:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(<span class="fu">subset</span> (merged, <span class="at">select=</span><span class="fu">c</span>(Uniques, <span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span>, uniques.ratio, visits.ratio, reactions.ratio )))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This graph showing that popularity is strongly correlated with all engagement metrics, such as Exit rate, uniques ratio, visit ratio and reaction’s ratio, where an increase in popularity causes decrease of engagement across all 4 metrics for engagement.</p>
<p>We can also see that the relationship between Popularity and engagement rate are curvi-linear. If we log the values, we will see linear relationship:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(<span class="fu">subset</span> (merged, <span class="at">select=</span><span class="fu">c</span>(<span class="fu">log</span>(Uniques), <span class="fu">log</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span>), uniques.ratio, visits.ratio, reactions.ratio )))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in `x[r, vars, drop = drop]`:
! Can't subset columns with `vars`.
✖ Can't convert from `j` &lt;double&gt; to &lt;integer&gt; due to loss of precision.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># WHT DOES THE GRAPH SHOWS POST.DATE and POST.DATE1  INSTEAD OF "UNIQUES" and  "Exit rate"? </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>As we saw in the distributions of variables above, all engagement metrics are strongly correlate with each other the popularity metric.</p>
<section id="modeling-engagement-popularity" class="level3">
<h3 class="anchored" data-anchor-id="modeling-engagement-popularity">1.3.1. Modeling engagement ~ popularity:</h3>
<p>Lets review how it is impacting exit rate : I will use “Exit rate” s my main engagement variable, as it reporesents the first engagement chouce that all site users make: to stay on the site or leave. Using log() of popularity is shoing a better fitted model:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span><span class="fu">log</span>(Uniques), <span class="at">y=</span><span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> ))<span class="sc">+</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span><span class="sc">~</span> <span class="sc">+</span> <span class="fu">log</span>(Uniques) , <span class="at">data =</span> merged))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = `Exit rate` ~ +log(Uniques), data = merged)

Residuals:
      Min        1Q    Median        3Q       Max 
-0.259486 -0.016818  0.001917  0.019850  0.073240 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  -0.332581   0.027678  -12.02   &lt;2e-16 ***
log(Uniques)  0.113870   0.002855   39.89   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.03073 on 533 degrees of freedom
Multiple R-squared:  0.749, Adjusted R-squared:  0.7486 
F-statistic:  1591 on 1 and 533 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>We can see significance of popularity and high R^2 of the model, and can conclude that popularity overall decreases engagement. To explore this connection further, lets mreview Sources of users that are coming to the website.</p>
</section>
<section id="how-popularity-impacts-engagement-referral-sources." class="level3">
<h3 class="anchored" data-anchor-id="how-popularity-impacts-engagement-referral-sources.">1.3.2. How popularity impacts engagement: Referral sources.</h3>
<p>The website analytics provides information on where the viewers are coming from to the blog page. for example, if people clicked on the blog link posted on FaceBook, that would be referral from social media. If people clicked on the blog link within BDC website, that would be “BDC referral visit”.</p>
<p>There are 5 sources of referrals, each corresponding with a variable in the data set. Variable’s value is a number of visits from this referral source.</p>
<pre><code>    "Search + amp referral visits"
    "Direct (non-email) referral visits"
    "Other website referral visits"
    "Social referral visits"
    "BDC referral visits"
    "Visits when post was on LL HP" </code></pre>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">#renaming variables for convenience: </span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>merged<span class="ot">&lt;-</span>merged<span class="sc">%&gt;%</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">google =</span><span class="st">"Search + amp referral visits"</span>,</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">direct =</span><span class="st">"Direct (non-email) referral visits"</span>,</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">other.web =</span> <span class="st">"Other website referral visits"</span>,</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">social=</span> <span class="st">"Social referral visits"</span>,</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">bdc=</span> <span class="st">"BDC referral visits"</span>,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">ll=</span> <span class="st">"Visits when post was on LL HP"</span> )</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>post.date))<span class="sc">+</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>google), <span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>direct), <span class="at">color=</span><span class="st">"green"</span>)<span class="sc">+</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>other.web), <span class="at">color=</span><span class="st">"yellow"</span>)<span class="sc">+</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>social), <span class="at">color=</span><span class="st">"purple"</span>)<span class="sc">+</span></span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>bdc), <span class="at">color=</span><span class="st">"blue"</span>)<span class="sc">+</span></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>ll), <span class="at">color=</span><span class="st">"pink"</span>)  <span class="sc">+</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"referral sources per post "</span>, <span class="at">y =</span> <span class="st">"Number of referrals"</span> , <span class="at">x=</span><span class="st">"Post"</span>)<span class="sc">+</span> </span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This graph clearly demonstrates increase of “Search + amp referral visits” after December 2021, while other referral sources maintain the same level over time. This increase matches changes observed in popularity ( Page Views), and engagement metrics that are highly correlated with popularity. It also doubles views of the posts in many cases and might significanly influence our model and conclusions.</p>
</section>
<section id="early-commentsimpact" class="level3">
<h3 class="anchored" data-anchor-id="early-commentsimpact">Early comments’impact</h3>
<p>We saw that increased popularity is associated with the sources of the viewers and might come from the search engines. We want to find out if early engagement in the post ( comments within first 10 hours of the post time) trigger its appearance in google news listing and therefore cause sharp increase in popularity.</p>
<p>We are interested to find out, what characteristics of the post (prior to it being picked up by google), correlate with its appearance on google news.</p>
<p>Number of comments within 1st 10 hours from the post.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co">#  calculating number of comments within first 10 hours </span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="co"># date and time of the post </span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>post.date  <span class="ot">&lt;-</span>comments.data <span class="sc">%&gt;%</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(post_id)<span class="sc">%&gt;%</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(written_at)<span class="sc">%&gt;%</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">post.dt =</span> <span class="fu">first</span>(written_at), </span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">n.coms =</span><span class="fu">n</span>())<span class="sc">%&gt;%</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (n.coms<span class="sc">&gt;</span><span class="dv">100</span>)<span class="sc">%&gt;%</span></span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(post_id, post.dt, n.coms)<span class="sc">%&gt;%</span></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(<span class="fu">desc</span>(post_id))</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a><span class="co"># head(post.date)</span></span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating age of the post </span></span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>comments.data <span class="ot">&lt;-</span> <span class="fu">merge</span>( comments.data , post.date , <span class="at">by =</span> <span class="st">"post_id"</span>, <span class="at">all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>comments.data <span class="ot">&lt;-</span>comments.data <span class="sc">%&gt;%</span></span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">age =</span> <span class="fu">difftime</span>(  written_at,post.dt, <span class="at">units =</span> <span class="st">"hours"</span>), </span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">early =</span> <span class="fu">ifelse</span>(age<span class="sc">&lt;</span><span class="dv">10</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>early.coms  <span class="ot">&lt;-</span>comments.data<span class="sc">%&gt;%</span></span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(post_id)<span class="sc">%&gt;%</span></span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(written_at)<span class="sc">%&gt;%</span></span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">early.sum =</span> <span class="fu">sum</span>(early), </span>
<span id="cb54-24"><a href="#cb54-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">n.coms =</span><span class="fu">n</span>())<span class="sc">%&gt;%</span></span>
<span id="cb54-25"><a href="#cb54-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (n.coms<span class="sc">&gt;</span><span class="dv">100</span>)<span class="sc">%&gt;%</span></span>
<span id="cb54-26"><a href="#cb54-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(post_id, early.sum)<span class="sc">%&gt;%</span></span>
<span id="cb54-27"><a href="#cb54-27" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(<span class="fu">desc</span>(post_id))</span>
<span id="cb54-28"><a href="#cb54-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-29"><a href="#cb54-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding number of early comments to merged dataset:</span></span>
<span id="cb54-30"><a href="#cb54-30" aria-hidden="true" tabindex="-1"></a>merged <span class="ot">&lt;-</span> <span class="fu">merge</span>( merged, early.coms , <span class="at">by =</span> <span class="st">"post_id"</span>, <span class="at">all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb54-31"><a href="#cb54-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-32"><a href="#cb54-32" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(merged )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   post_id  post.date
1 27067757 2023-03-01
2 27067763 2023-02-28
3 27067769 2023-02-27
4 27067775 2023-02-24
5 27067781 2023-02-23
6 27067787 2023-02-22
                                                                             Letter
1                          love letters | blog | We&amp;'ve gained weight – as a couple
2           love letters | blog | She was a friendly ghost, but I was still ghosted
3 love letters | blog | I waited for her to initiate sex – and it ended my marriage
4                         love letters | blog | My husband doesn&amp;'t share his money
5                              love letters | blog | My wife won&amp;'t go back to work
6                                love letters | blog | He doesn&amp;'t have time for me
  Page views google direct Visits Uniques other.web social   bdc   ll Exits
1      24890  10407  10180  22766   20765       349     56  7088 2785 18547
2      15575   1210  10297  13597   11677       214     85  7461 2832 10127
3      28594   7027  15609  26115   23914       909     87 12957 3016 22464
4      72718  43419  19921  67007   62122       311    134 14106 4216 60915
5      67537  43173  16863  62888   59272       310    152 12344 2739 56929
6      28778  14466   9698  26269   23865       331     67  6332 3003 21515
  Exit rate dup n.comments post.year post.month post.likes post.dislikes
1      0.81   0        208      2023          3       1001           167
2      0.74   0        264      2023          2       1908           118
3      0.86   0        241      2023          2       1195           167
4      0.91   0        321      2023          2       1921           341
5      0.91   0        294      2023          2       1445           549
6      0.82   0        182      2023          2       1337            85
  post.total.likes blocked.sum pct.positive year_month uniques.ratio
1             1168           1     85.70205    2023-03     0.8342708
2             2026           1     94.17572    2023-02     0.7497271
3             1362           1     87.73862    2023-02     0.8363293
4             2262           3     84.92485    2023-02     0.8542864
5             1994           0     72.46740    2023-02     0.8776226
6             1422           0     94.02250    2023-02     0.8292793
  visits.ratio reactions.ratio comments.ratio early.sum
1    0.9146645      0.04692648    0.008356770       192
2    0.8730016      0.13008026    0.016950241       247
3    0.9133035      0.04763237    0.008428342       214
4    0.9214637      0.03110647    0.004414313       261
5    0.9311637      0.02952456    0.004353169       240
6    0.9128153      0.04941275    0.006324275       142</code></pre>
</div>
</div>
<p>Now, as I calculated number of early comments for all posts, I can see if that number correlated with Google referrals.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>merged<span class="fl">.2</span><span class="ot">&lt;-</span>merged<span class="sc">%&gt;%</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(google<span class="sc">&gt;</span><span class="dv">10000</span>)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>correlation<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">cor</span>(merged<span class="fl">.2</span><span class="sc">$</span>early.sum, merged<span class="fl">.2</span><span class="sc">$</span>google)</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>correlation<span class="fl">.2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2736053</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(merged<span class="fl">.2</span><span class="sc">$</span>early.sum, merged<span class="fl">.2</span><span class="sc">$</span>google)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(google <span class="sc">~</span>early.sum, <span class="at">data=</span>merged<span class="fl">.2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = google ~ early.sum, data = merged.2)

Residuals:
   Min     1Q Median     3Q    Max 
-15035  -6141  -2482   3559  54900 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)   
(Intercept)  5908.84    5265.21   1.122  0.26406   
early.sum      94.56      30.73   3.077  0.00261 **
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 10600 on 117 degrees of freedom
Multiple R-squared:  0.07486,   Adjusted R-squared:  0.06695 
F-statistic: 9.467 on 1 and 117 DF,  p-value: 0.002605</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(google <span class="sc">~</span>early.sum, <span class="at">data=</span>merged))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = google ~ early.sum, data = merged)

Residuals:
   Min     1Q Median     3Q    Max 
 -7036  -5548  -4652   2036  68716 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 8921.388   1789.530   4.985 8.38e-07 ***
early.sum    -12.627      9.921  -1.273    0.204    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 9806 on 533 degrees of freedom
Multiple R-squared:  0.00303,   Adjusted R-squared:  0.001159 
F-statistic:  1.62 on 1 and 533 DF,  p-value: 0.2037</code></pre>
</div>
</div>
<p>We can see significant connection between early comments and google referrals, only on the data set of google referrals above 10000 visits. Also, R^2 is low in this model, which suggests that there are other factors that are not considered in this model. I will explore how days of the week and time of the post contribute to this relationship.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculating day of the week for the post: </span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(comments.data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "post_id"           "content"           "message_id"       
 [4] "user_id"           "user_name"         "display_name"     
 [7] "image_url"         "email"             "email_verified"   
[10] "created_at"        "private_profile"   "approved"         
[13] "written_at"        "parent"            "absolute_likes"   
[16] "absolute_dislikes" "comment.year"      "com.year"         
[19] "post.dt"           "n.coms"            "age"              
[22] "early"            </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating age of the post </span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'lubridate'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    date, intersect, setdiff, union</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>comments.data <span class="ot">&lt;-</span>comments.data <span class="sc">%&gt;%</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">weekday =</span> <span class="fu">wday</span>(post.dt, <span class="at">label =</span> <span class="cn">TRUE</span>), </span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">weekend =</span> <span class="fu">ifelse</span>(weekday <span class="sc">==</span><span class="st">"Fri"</span> <span class="sc">|</span> weekday <span class="sc">==</span> <span class="st">"Sat"</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="co"># class(week.days$weekday)</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a><span class="co"># levels(week.days$weekday) </span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a><span class="co"># week.days$weekend</span></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>weekdays <span class="ot">&lt;-</span>comments.data <span class="sc">%&gt;%</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(post_id)<span class="sc">%&gt;%</span></span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(written_at)<span class="sc">%&gt;%</span></span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">post.weekday =</span> <span class="fu">first</span>(weekday), </span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">post.weekend =</span><span class="fu">first</span>(weekend),</span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">n.coms =</span><span class="fu">n</span>())<span class="sc">%&gt;%</span></span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (n.coms<span class="sc">&gt;</span><span class="dv">100</span>)<span class="sc">%&gt;%</span></span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(post_id, post.weekday,post.weekend )<span class="sc">%&gt;%</span></span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(<span class="fu">desc</span>(post_id))</span>
<span id="cb68-18"><a href="#cb68-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-19"><a href="#cb68-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding number of early comments to merged dataset:</span></span>
<span id="cb68-20"><a href="#cb68-20" aria-hidden="true" tabindex="-1"></a>merged <span class="ot">&lt;-</span> <span class="fu">merge</span>( merged, weekdays , <span class="at">by =</span> <span class="st">"post_id"</span>, <span class="at">all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb68-21"><a href="#cb68-21" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(merged)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "post_id"          "post.date"        "Letter"           "Page views"      
 [5] "google"           "direct"           "Visits"           "Uniques"         
 [9] "other.web"        "social"           "bdc"              "ll"              
[13] "Exits"            "Exit rate"        "dup"              "n.comments"      
[17] "post.year"        "post.month"       "post.likes"       "post.dislikes"   
[21] "post.total.likes" "blocked.sum"      "pct.positive"     "year_month"      
[25] "uniques.ratio"    "visits.ratio"     "reactions.ratio"  "comments.ratio"  
[29] "early.sum"        "post.weekday"     "post.weekend"    </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># levels(merged$post.weekday)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="post-weekdays-to-the-model" class="level3">
<h3 class="anchored" data-anchor-id="post-weekdays-to-the-model">Post weekdays to the model</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>merged<span class="fl">.2</span><span class="ot">&lt;-</span>merged <span class="sc">%&gt;%</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(google<span class="sc">&gt;</span><span class="dv">10000</span>)</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a> <span class="fu">plot</span>(merged<span class="sc">$</span>post.weekday, merged<span class="sc">$</span>google)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="fu">log</span>(google) <span class="sc">~</span>early.sum <span class="sc">+</span>post.weekday , <span class="at">data=</span>merged<span class="fl">.2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = log(google) ~ early.sum + post.weekday, data = merged.2)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.85556 -0.25080 -0.05083  0.23281  1.25348 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)     9.30191    0.20350  45.710  &lt; 2e-16 ***
early.sum       0.00352    0.00119   2.958  0.00377 ** 
post.weekday.L  0.01571    0.08732   0.180  0.85751    
post.weekday.Q -0.02154    0.08544  -0.252  0.80145    
post.weekday.C -0.02274    0.08280  -0.275  0.78409    
post.weekday^4  0.15962    0.08043   1.985  0.04962 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.4058 on 113 degrees of freedom
Multiple R-squared:  0.102, Adjusted R-squared:  0.06229 
F-statistic: 2.568 on 5 and 113 DF,  p-value: 0.03066</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># table(merged.weekdays$post.weekday)</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span> (merged, <span class="at">mapping =</span><span class="fu">aes</span>(<span class="at">x=</span>early.sum, <span class="at">y=</span>google, <span class="at">color =</span>post.weekday))<span class="sc">+</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( ) <span class="sc">+</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"All google referrals and early comments"</span>, <span class="at">y =</span> <span class="st">"Google referrals"</span> , <span class="at">x=</span><span class="st">"Early comments"</span>)<span class="sc">+</span> </span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>post.weekday)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-28-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span> (merged<span class="fl">.2</span>, <span class="at">mapping =</span><span class="fu">aes</span>(<span class="at">x=</span>early.sum, <span class="at">y=</span>google, <span class="at">color =</span>post.weekday))<span class="sc">+</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( ) <span class="sc">+</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Google referrals over 10K and early comments"</span>, <span class="at">y =</span> <span class="st">"Google referrals"</span> , <span class="at">x=</span><span class="st">"Early comments"</span>)<span class="sc">+</span> </span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>post.weekday)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-28-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Early comments indeed influence Google referrals. However, this influence is different on different days of the week and appears more pronounced on Thursdays and Fridays. This overall supports our suggestion that early engagement of loyal users through comments impacts post popularity. further investigation of factors would be helpful, with the goal to model fit (R^2).</p>
<p>Our hypothesis that large amount of early comments triggers google referrals has some preliminary support with the few restrictiions to be considere: - the connection only appears on the posts with google referrals above 10000. - This connection is atronger for only thursdays and Fridays and appears very weak on other days of the week. - low coefficient and high deviation of data from predicated valaues (low R^2) suggest that there are other , more influential, factors that were not considered.</p>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">1.4.Conclusion</h2>
<p>As we reviewed a variety of engagement metric, I found: 1. That they are all strongly correlated to each other and influenced by post popularity: Engagement overall decreases as popularity increases.In our further analysis I will need to include “Uniques” variable in the model to control for popularity</p>
<ol start="2" type="1">
<li><p>Also as a result of exploration of engagement metrics, we can distinguish two types of users: superficial visitors and loyal readers. The main difference is that loyal readers have created accounts and therefore can comment. It is possible that htese two groups of readers respond differently to popularity increase, as well as other Independent variables. Therefore, the difference in types of readers must be considered when addressing our main hypothesi: whether authors engagement and other factors impacts reader’s engagement.</p></li>
<li><p>Early engagement of loyal users through comments might contribute to dramatic changes in post popularity.</p></li>
</ol>
<p>Now, lets consider independent variables of our main hypothesis. # 2. Independent variables (IV):</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Please cite as: </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> Hlavac, Marek (2022). stargazer: Well-Formatted Regression and Summary Statistics Tables.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> R package version 5.2.3. https://CRAN.R-project.org/package=stargazer </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in if (substr(inside[i], 1, nchar("list(")) == "list(") {: missing value where TRUE/FALSE needed</code></pre>
</div>
</div>
<section id="authors-comments" class="level3">
<h3 class="anchored" data-anchor-id="authors-comments">Authors comments</h3>
<p>To identify, how much the author of the blog is engaged in the post, I will create an additional variable derived from a user_name field.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># str(merged)</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>comments.data<span class="sc">$</span>user_name<span class="ot">&lt;-</span>  <span class="fu">ifelse</span> (<span class="fu">is.na</span>(comments.data<span class="sc">$</span>user_name), <span class="dv">0</span>, comments.data<span class="sc">$</span>user_name)</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>comments.data<span class="sc">$</span>author<span class="ot">&lt;-</span>  <span class="fu">ifelse</span> (comments.data<span class="sc">$</span>user_name<span class="sc">==</span><span class="st">"MeredithGoldstein"</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>comments.grouped <span class="ot">&lt;-</span>comments.data <span class="sc">%&gt;%</span></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(post_id)<span class="sc">%&gt;%</span></span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n.comments=</span><span class="fu">n</span>(),</span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">author.sum =</span> <span class="fu">sum</span>(author))</span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a><span class="co"># dim(comments.grouped )</span></span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(comments.grouped )</span></span>
<span id="cb84-12"><a href="#cb84-12" aria-hidden="true" tabindex="-1"></a><span class="co"># class(comments.grouped$author.sum)</span></span>
<span id="cb84-13"><a href="#cb84-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-14"><a href="#cb84-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Comments data contains rows that dont actually reporesent posts, and were crearted by web support team for troubleshooting. I need to remove these rows. They typically have very low number of comments</span></span>
<span id="cb84-15"><a href="#cb84-15" aria-hidden="true" tabindex="-1"></a>comments.grouped <span class="ot">&lt;-</span>comments.grouped <span class="sc">%&gt;%</span></span>
<span id="cb84-16"><a href="#cb84-16" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(n.comments <span class="sc">&gt;</span><span class="dv">100</span>)  <span class="co"># removing invalid posts created by the  website management team.</span></span>
<span id="cb84-17"><a href="#cb84-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-18"><a href="#cb84-18" aria-hidden="true" tabindex="-1"></a>comments.grouped <span class="ot">&lt;-</span>comments.grouped <span class="sc">%&gt;%</span></span>
<span id="cb84-19"><a href="#cb84-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(post_id, author.sum)</span>
<span id="cb84-20"><a href="#cb84-20" aria-hidden="true" tabindex="-1"></a> <span class="fu">dim</span>(comments.grouped)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 535   2</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co">#adding author.sum to main data set: </span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>merged <span class="ot">&lt;-</span> <span class="fu">merge</span>( merged , comments.grouped, <span class="at">by =</span> <span class="st">"post_id"</span>, <span class="at">all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>merged, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>year_month , <span class="at">y=</span>author.sum, <span class="at">fill=</span>year_month ))<span class="sc">+</span></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"distribution of Author's comments by months"</span>, <span class="at">y =</span> <span class="st">"Author's comments"</span> , <span class="at">x=</span><span class="st">"Month"</span>)<span class="sc">+</span> </span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This graph shows, that majority of posts have no author’s comments. However, if we look at the box plots’ upper ranges, we can suggest a trend of decrease in author’s comments with time.</p>
</section>
<section id="mood-of-the-post." class="level3">
<h3 class="anchored" data-anchor-id="mood-of-the-post.">Mood of the post.</h3>
<p>This is a numerical variable, calculated as percentage of “thumbs up” from all likes (both “thumbs up” and “thumbs down”).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>year_month , <span class="at">y=</span>pct.positive, <span class="at">fill=</span>year_month ))<span class="sc">+</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"distribution of Mood per post "</span>, <span class="at">y =</span> <span class="st">"Mood"</span> , <span class="at">x=</span><span class="st">"Month"</span>)<span class="sc">+</span> </span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="blocked-comments-per-post." class="level3">
<h3 class="anchored" data-anchor-id="blocked-comments-per-post.">Blocked comments per post.</h3>
<p>Now I will visualize amount of blocked comments per post:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>year_month , <span class="at">y=</span>blocked.sum, <span class="at">fill=</span>year_month ))<span class="sc">+</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Number Blocked comments  per post "</span>, <span class="at">y =</span> <span class="st">"Number of blocked comments per post"</span> , <span class="at">x=</span><span class="st">"Month"</span>)<span class="sc">+</span> </span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
</section>
<section id="creating-the-model-for-main-hypothesis-testing" class="level1">
<h1>3. Creating the model for main hypothesis testing</h1>
<p>As we mentioned above, we will add popularity to the model when testing main hypothesis. Also, I am going to break the data set into two groups: prior to December 2021 and after December 2021 due to dramatic change in referral sources. I will use these two datasets to to test my main hypothesis and compare results.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>merged<span class="fl">.2021</span> <span class="ot">&lt;-</span> merged<span class="sc">%&gt;%</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(post.date <span class="sc">&lt;</span>    <span class="st">"2021-12-01"</span>)</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>merged<span class="fl">.2022</span> <span class="ot">&lt;-</span> merged<span class="sc">%&gt;%</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(post.date <span class="sc">&gt;=</span>   <span class="st">"2021-12-01"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="basic-model." class="level2">
<h2 class="anchored" data-anchor-id="basic-model.">3.1 Basic model.</h2>
<p>I will start with creating a simple model of engagement ~ popularity and author’s engagement:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(merged)</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum, <span class="at">data =</span> merged))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = `Exit rate` ~ log(Uniques) + author.sum, data = merged)

Residuals:
      Min        1Q    Median        3Q       Max 
-0.257486 -0.016558  0.001669  0.019958  0.072030 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  -0.326263   0.027749 -11.758   &lt;2e-16 ***
log(Uniques)  0.113326   0.002857  39.663   &lt;2e-16 ***
author.sum   -0.003389   0.001602  -2.116   0.0348 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.03063 on 532 degrees of freedom
Multiple R-squared:  0.7511,    Adjusted R-squared:  0.7502 
F-statistic: 802.9 on 2 and 532 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum, <span class="at">data =</span> merged<span class="fl">.2021</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = `Exit rate` ~ log(Uniques) + author.sum, data = merged.2021)

Residuals:
      Min        1Q    Median        3Q       Max 
-0.257995 -0.018855  0.000548  0.027265  0.069625 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  -0.402793   0.096359  -4.180 4.18e-05 ***
log(Uniques)  0.121731   0.010266  11.857  &lt; 2e-16 ***
author.sum   -0.002533   0.002568  -0.986    0.325    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.0372 on 224 degrees of freedom
Multiple R-squared:  0.3856,    Adjusted R-squared:  0.3801 
F-statistic:  70.3 on 2 and 224 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum, <span class="at">data =</span> merged<span class="fl">.2022</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = `Exit rate` ~ log(Uniques) + author.sum, data = merged.2022)

Residuals:
      Min        1Q    Median        3Q       Max 
-0.083434 -0.014968  0.002043  0.017982  0.053266 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  -0.354200   0.029528 -11.995  &lt; 2e-16 ***
log(Uniques)  0.115989   0.002974  38.996  &lt; 2e-16 ***
author.sum   -0.005402   0.001997  -2.705  0.00722 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.02455 on 305 degrees of freedom
Multiple R-squared:  0.8369,    Adjusted R-squared:  0.8359 
F-statistic: 782.7 on 2 and 305 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>To see how engagement of a subset of readers changes (loyal readers), I will use another measure for engagement as DV, which represents only registered users: number of comments.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(n.comments <span class="sc">~</span> <span class="fu">log</span>(Uniques) <span class="sc">+</span> author.sum , <span class="at">data =</span> merged))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = n.comments ~ log(Uniques) + author.sum, data = merged)

Residuals:
    Min      1Q  Median      3Q     Max 
-98.670 -35.171  -8.842  26.596 181.918 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   238.521     45.076   5.292 1.78e-07 ***
log(Uniques)   -4.667      4.641  -1.006   0.3151    
author.sum      4.872      2.602   1.872   0.0617 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 49.75 on 532 degrees of freedom
Multiple R-squared:  0.009115,  Adjusted R-squared:  0.00539 
F-statistic: 2.447 on 2 and 532 DF,  p-value: 0.08752</code></pre>
</div>
</div>
<p>This shows that engagement is decreasing with popularity and someone increasing with author’s comments. for loyal readers : engagement is also sensitive to author’s comments, but not sensitive to popularity of the post.</p>
<section id="analize-change-in-x1-and-x2-to-y-considering-log" class="level3">
<h3 class="anchored" data-anchor-id="analize-change-in-x1-and-x2-to-y-considering-log">analize change in x1 and x2 to y , considering log()</h3>
</section>
</section>
<section id="adding-other-variables." class="level2">
<h2 class="anchored" data-anchor-id="adding-other-variables.">3.2 Adding other variables.</h2>
<p>Now I will add other variables to see if there is any impact on the results of the model with engagement of both groups of readers. For number of comments, I would have to select either early.sum or n.comments, due to high correlation between them</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>(<span class="fu">cor</span>(merged<span class="sc">$</span>early.sum, merged<span class="sc">$</span>n.comments))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9507822</code></pre>
</div>
</div>
<p>I am including n/comments in the model, to see if engagement of loyal readers through comments impact overall engagement:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(merged)</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum<span class="sc">+</span>post.weekday <span class="sc">+</span>n.comments, <span class="at">data =</span> merged))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = `Exit rate` ~ log(Uniques) + author.sum + pct.positive + 
    blocked.sum + post.weekday + n.comments, data = merged)

Residuals:
      Min        1Q    Median        3Q       Max 
-0.249664 -0.014653  0.001237  0.018954  0.061566 

Coefficients:
                 Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)    -3.658e-01  3.738e-02  -9.787  &lt; 2e-16 ***
log(Uniques)    1.135e-01  2.803e-03  40.492  &lt; 2e-16 ***
author.sum     -4.158e-03  1.551e-03  -2.681  0.00756 ** 
pct.positive    1.488e-04  2.369e-04   0.628  0.53032    
blocked.sum    -3.634e-04  2.099e-04  -1.732  0.08391 .  
post.weekday.L -1.959e-03  3.001e-03  -0.653  0.51425    
post.weekday.Q  1.332e-02  2.879e-03   4.627 4.69e-06 ***
post.weekday.C  1.109e-04  2.825e-03   0.039  0.96869    
post.weekday^4  3.235e-03  2.797e-03   1.157  0.24793    
n.comments      1.384e-04  2.642e-05   5.237 2.36e-07 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.02933 on 525 degrees of freedom
Multiple R-squared:  0.7748,    Adjusted R-squared:  0.771 
F-statistic: 200.7 on 9 and 525 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>Ahd it is shown to be significant, negativelly impacting overall engagement. considering our finding s earlier, that early comments increase popularity and therefore decrease overall engagement, this is expected. Tuesday as level of “weekday” also shows to significantly decrease engagement.</p>
<p>Authors engagement, day of the week(Tuesday) and blocked comments seem to increase engagement.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(n.comments <span class="sc">~</span> <span class="fu">log</span>(Uniques) <span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum <span class="sc">+</span>post.weekday, <span class="at">data =</span> merged)) <span class="co">#not adding early.sum due to high correlation with DV: cor(merged$early.sum, merged$n.comments): 0.95</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = n.comments ~ log(Uniques) + author.sum + pct.positive + 
    blocked.sum + post.weekday, data = merged)

Residuals:
   Min     1Q Median     3Q    Max 
-84.53 -33.89  -9.63  25.39 183.31 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)    106.8646    61.5191   1.737  0.08296 .  
log(Uniques)    -1.8812     4.6253  -0.407  0.68438    
author.sum       3.9147     2.5540   1.533  0.12593    
pct.positive     1.1648     0.3878   3.004  0.00279 ** 
blocked.sum      0.8864     0.3443   2.575  0.01030 *  
post.weekday.L  21.7036     4.8624   4.464 9.87e-06 ***
post.weekday.Q   6.0475     4.7449   1.275  0.20304    
post.weekday.C   1.0266     4.6622   0.220  0.82581    
post.weekday^4  -0.1307     4.6164  -0.028  0.97743    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 48.41 on 526 degrees of freedom
Multiple R-squared:  0.07252,   Adjusted R-squared:  0.05841 
F-statistic: 5.141 on 8 and 526 DF,  p-value: 3.455e-06</code></pre>
</div>
</div>
<p>While general viewers show no impact by mood of the post or blocked comments, we see significant positive correlation of engagement with all of these metrics for loyal readers(=commenters).</p>
<p>Number of comments, representing engagement is somewhat impacted by three independent variables, but this model has low R^2 , which suggests that there are other factors impacting loyal reader’s engagement that are not considered in this model.</p>
</section>
<section id="using-different-datasets-for-comparing" class="level2">
<h2 class="anchored" data-anchor-id="using-different-datasets-for-comparing">3.3 Using different datasets for comparing:</h2>
<section id="exit-rate-for-2021-and-2022" class="level3">
<h3 class="anchored" data-anchor-id="exit-rate-for-2021-and-2022">Exit rate for 2021 and 2022:</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(merged)</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum, <span class="at">data =</span> merged<span class="fl">.2021</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = `Exit rate` ~ log(Uniques) + author.sum + pct.positive + 
    blocked.sum, data = merged.2021)

Residuals:
      Min        1Q    Median        3Q       Max 
-0.258483 -0.017314  0.000667  0.027730  0.077470 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  -5.315e-01  1.194e-01  -4.451 1.35e-05 ***
log(Uniques)  1.259e-01  1.053e-02  11.949  &lt; 2e-16 ***
author.sum   -2.673e-03  2.563e-03  -1.043   0.2981    
pct.positive  1.009e-03  5.573e-04   1.811   0.0715 .  
blocked.sum   7.438e-05  4.341e-04   0.171   0.8641    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.03709 on 222 degrees of freedom
Multiple R-squared:  0.3946,    Adjusted R-squared:  0.3837 
F-statistic: 36.18 on 4 and 222 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum, <span class="at">data =</span> merged<span class="fl">.2022</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = `Exit rate` ~ log(Uniques) + author.sum + pct.positive + 
    blocked.sum, data = merged.2022)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.08367 -0.01553  0.00204  0.01839  0.05326 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  -0.3315325  0.0368576  -8.995  &lt; 2e-16 ***
log(Uniques)  0.1153984  0.0029870  38.633  &lt; 2e-16 ***
author.sum   -0.0052803  0.0019958  -2.646  0.00858 ** 
pct.positive -0.0001812  0.0002344  -0.773  0.44014    
blocked.sum  -0.0003622  0.0002190  -1.654  0.09915 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.0245 on 303 degrees of freedom
Multiple R-squared:  0.8386,    Adjusted R-squared:  0.8365 
F-statistic: 393.7 on 4 and 303 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>Exit rate (engagement) still correlates with popularity of the site or bot 2021 and 2021,confirming the same finding from un-splitted data set earlier. However, author’s comments appear only be relevant to all user’s engagement in 2022, and not in 2021. Mood of the post appears significant for user’s engagement only in 2021, and blocked comments only appear significant in 2022. ## 3.2 Diagnostic of the model:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(merged)</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>model.ex.r<span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum, <span class="at">data =</span> merged)</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>))</span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(model.ex.r, <span class="at">which =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>ex.r<span class="fl">.2021</span> <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum, <span class="at">data =</span> merged<span class="fl">.2021</span>)</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>ex.r<span class="fl">.2022</span> <span class="ot">&lt;-</span><span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum, <span class="at">data =</span> merged<span class="fl">.2022</span>)</span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>))</span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ex.r<span class="fl">.2021</span>, <span class="at">which =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-40-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>))</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ex.r<span class="fl">.2022</span>, <span class="at">which =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-40-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>model<span class="fl">.2</span><span class="ot">&lt;-</span> <span class="fu">lm</span>(n.comments <span class="sc">~</span> <span class="fu">log</span>(Uniques) <span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum, <span class="at">data =</span> merged)</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>))</span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(model<span class="fl">.2</span>, <span class="at">which =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final_Project_check_in_2_Diana_Rinker_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="number-of-comments-for-2021-and-2022" class="level3">
<h3 class="anchored" data-anchor-id="number-of-comments-for-2021-and-2022">Number of comments for 2021 and 2022:</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(n.comments <span class="sc">~</span> <span class="fu">log</span>(Uniques) <span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum, <span class="at">data =</span> merged<span class="fl">.2021</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = n.comments ~ log(Uniques) + author.sum + pct.positive + 
    blocked.sum, data = merged.2021)

Residuals:
     Min       1Q   Median       3Q      Max 
-106.632  -38.547   -8.915   28.987  167.497 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)
(Intercept)  209.0074   180.9229   1.155    0.249
log(Uniques)   3.0321    15.9599   0.190    0.849
author.sum     4.5830     3.8832   1.180    0.239
pct.positive  -0.3590     0.8443  -0.425    0.671
blocked.sum    0.8618     0.6577   1.310    0.191

Residual standard error: 56.19 on 222 degrees of freedom
Multiple R-squared:  0.01739,   Adjusted R-squared:  -0.000314 
F-statistic: 0.9823 on 4 and 222 DF,  p-value: 0.418</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(n.comments <span class="sc">~</span> <span class="fu">log</span>(Uniques) <span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum, <span class="at">data =</span> merged<span class="fl">.2022</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = n.comments ~ log(Uniques) + author.sum + pct.positive + 
    blocked.sum, data = merged.2022)

Residuals:
    Min      1Q  Median      3Q     Max 
-76.762 -28.410  -7.407  25.375 155.874 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  -72.7563    59.4359  -1.224 0.221861    
log(Uniques)  18.5894     4.8169   3.859 0.000139 ***
author.sum     1.9188     3.2184   0.596 0.551481    
pct.positive   0.7834     0.3780   2.072 0.039094 *  
blocked.sum    1.1017     0.3531   3.120 0.001981 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 39.51 on 303 degrees of freedom
Multiple R-squared:  0.07768,   Adjusted R-squared:  0.0655 
F-statistic:  6.38 on 4 and 303 DF,  p-value: 6.108e-05</code></pre>
</div>
</div>
<p>None of the variables show significance for loyal user’s engagement(comments) in 2021. However, loyal users are significantly influenced by popularity, mood of the post and blocked comments in 2022.</p>
</section>
<section id="adding-a-weekday" class="level3">
<h3 class="anchored" data-anchor-id="adding-a-weekday">Adding a weekday:</h3>
<p>Adding the weekday of the post ad additional IV increases R^2 and shows significance for one of the levels:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(n.comments <span class="sc">~</span> <span class="fu">log</span>(Uniques) <span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum <span class="sc">+</span> post.weekday, <span class="at">data =</span> merged))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = n.comments ~ log(Uniques) + author.sum + pct.positive + 
    blocked.sum + post.weekday, data = merged)

Residuals:
   Min     1Q Median     3Q    Max 
-84.53 -33.89  -9.63  25.39 183.31 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)    106.8646    61.5191   1.737  0.08296 .  
log(Uniques)    -1.8812     4.6253  -0.407  0.68438    
author.sum       3.9147     2.5540   1.533  0.12593    
pct.positive     1.1648     0.3878   3.004  0.00279 ** 
blocked.sum      0.8864     0.3443   2.575  0.01030 *  
post.weekday.L  21.7036     4.8624   4.464 9.87e-06 ***
post.weekday.Q   6.0475     4.7449   1.275  0.20304    
post.weekday.C   1.0266     4.6622   0.220  0.82581    
post.weekday^4  -0.1307     4.6164  -0.028  0.97743    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 48.41 on 526 degrees of freedom
Multiple R-squared:  0.07252,   Adjusted R-squared:  0.05841 
F-statistic: 5.141 on 8 and 526 DF,  p-value: 3.455e-06</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques) <span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive<span class="sc">+</span>blocked.sum <span class="sc">+</span>post.weekday, <span class="at">data =</span> merged))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = `Exit rate` ~ log(Uniques) + author.sum + pct.positive + 
    blocked.sum + post.weekday, data = merged)

Residuals:
      Min        1Q    Median        3Q       Max 
-0.253949 -0.016021  0.001578  0.019637  0.065920 

Coefficients:
                 Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)    -0.3510322  0.0381950  -9.191  &lt; 2e-16 ***
log(Uniques)    0.1132211  0.0028717  39.427  &lt; 2e-16 ***
author.sum     -0.0036165  0.0015857  -2.281    0.023 *  
pct.positive    0.0003099  0.0002408   1.287    0.199    
blocked.sum    -0.0002408  0.0002137  -1.127    0.260    
post.weekday.L  0.0010440  0.0030189   0.346    0.730    
post.weekday.Q  0.0141570  0.0029459   4.806 2.02e-06 ***
post.weekday.C  0.0002529  0.0028946   0.087    0.930    
post.weekday^4  0.0032168  0.0028662   1.122    0.262    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.03006 on 526 degrees of freedom
Multiple R-squared:  0.7631,    Adjusted R-squared:  0.7595 
F-statistic: 211.8 on 8 and 526 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(merged<span class="sc">$</span>post.weekday)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ordered" "factor" </code></pre>
</div>
</div>
</section>
<section id="adding-early-comments" class="level3">
<h3 class="anchored" data-anchor-id="adding-early-comments">Adding early comments:</h3>
<p>Measuring how early comments impact engagement:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>merged<span class="ot">&lt;-</span> merged <span class="sc">%&gt;%</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">e.rate =</span> <span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span><span class="sc">*</span><span class="dv">10000</span>)</span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(e.rate <span class="sc">~</span> <span class="fu">log</span>(Uniques) <span class="sc">+</span> author.sum <span class="sc">+</span>post.weekday <span class="sc">+</span>early.sum, <span class="at">data =</span> merged))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = e.rate ~ log(Uniques) + author.sum + post.weekday + 
    early.sum, data = merged)

Residuals:
     Min       1Q   Median       3Q      Max 
-2491.71  -146.36    15.88   188.10   638.62 

Coefficients:
                 Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)    -3587.5846   276.2872 -12.985  &lt; 2e-16 ***
log(Uniques)    1138.5047    27.5061  41.391  &lt; 2e-16 ***
author.sum       -38.3691    15.4708  -2.480   0.0134 *  
post.weekday.L   -14.2529    29.1268  -0.489   0.6248    
post.weekday.Q   143.4069    28.7226   4.993 8.10e-07 ***
post.weekday.C     5.1103    28.2598   0.181   0.8566    
post.weekday^4    35.8574    27.9676   1.282   0.2004    
early.sum          1.5903     0.2998   5.305 1.66e-07 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 293.5 on 527 degrees of freedom
Multiple R-squared:  0.7737,    Adjusted R-squared:  0.7707 
F-statistic: 257.4 on 7 and 527 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(e.rate <span class="sc">~</span> <span class="fu">log</span>(Uniques) <span class="sc">+</span> author.sum<span class="sc">+</span>early.sum, <span class="at">data =</span> merged))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = e.rate ~ log(Uniques) + author.sum + early.sum, 
    data = merged)

Residuals:
     Min       1Q   Median       3Q      Max 
-2538.89  -143.55    24.05   198.90   685.26 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  -3634.7905   281.4951 -12.912  &lt; 2e-16 ***
log(Uniques)  1144.2628    28.0370  40.813  &lt; 2e-16 ***
author.sum     -35.9680    15.6776  -2.294   0.0222 *  
early.sum        1.5193     0.3042   4.994 8.04e-07 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 299.6 on 531 degrees of freedom
Multiple R-squared:  0.7623,    Adjusted R-squared:  0.761 
F-statistic: 567.6 on 3 and 531 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>The model’s predictive value is pretty good (probably due to popularity being included) : 0.77. It also appears that this connection We can check it, by excluding the popularity, as see that R^2 drops dramatically:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(e.rate <span class="sc">~</span> author.sum<span class="sc">+</span>early.sum, <span class="at">data =</span> merged))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = e.rate ~ author.sum + early.sum, data = merged)

Residuals:
    Min      1Q  Median      3Q     Max 
-3227.6  -410.9   -65.3   383.0  1613.4 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 7634.2416   111.2795  68.604   &lt;2e-16 ***
author.sum   -92.0013    31.7347  -2.899   0.0039 ** 
early.sum      0.5435     0.6163   0.882   0.3783    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 608.8 on 532 degrees of freedom
Multiple R-squared:  0.01667,   Adjusted R-squared:  0.01298 
F-statistic:  4.51 on 2 and 532 DF,  p-value: 0.01142</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="conlusion" class="level1">
<h1>4. Conlusion</h1>
<p>This study explored the connection between user’s online engagement and bolg’s author engagement. To do so, we also analyzed the impact of post popularity on engagement.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"C:</span><span class="sc">\\</span><span class="st">Users</span><span class="sc">\\</span><span class="st">Diana</span><span class="sc">\\</span><span class="st">OneDrive - University Of Massachusetts Medical School</span><span class="sc">\\</span><span class="st">Documents</span><span class="sc">\\</span><span class="st">R</span><span class="sc">\\</span><span class="st">R working directory</span><span class="sc">\\</span><span class="st">DACSS</span><span class="sc">\\</span><span class="st">603</span><span class="sc">\\</span><span class="st">my study files for dacss603</span><span class="sc">\\</span><span class="st">FP diagram .png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="../../my study files for dacss603/FP diagram .png" class="img-fluid" width="789"></p>
</div>
</div>
<p>The results showed that the post popularity is the major factor for online engagement and is negatively correlated with it. i.e.&nbsp;more popular posts tend to be less engaging.</p>
<p>We also identified two groups of users, whose engagement is measured with different metrics. We explored how blog author’s comments impact engagement of each group. We found than there is no significant impact of authors engagement on users engagement. Such characteristics, as post mood and blocked comments also showed no connection with engagement of either groups of users.</p>
<p>While engagement metrics (exit rate and comments) did not show significant contribution, authors comment appeared significant in this model. - this is really out of place, i just don’t want to lose this.</p>
</section>
<section id="section" class="level1">
<h1></h1>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="DACSS/603_Spring_2023" data-repo-id="R_kgDOI4oXIA" data-category="Announcements" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb129" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Final Project check-in 2"</span></span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Diana Rinker"</span></span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> "Final project DACSS 603"</span></span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "4/24/2023"</span></span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb129-8"><a href="#cb129-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb129-9"><a href="#cb129-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb129-10"><a href="#cb129-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb129-11"><a href="#cb129-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb129-12"><a href="#cb129-12" aria-hidden="true" tabindex="-1"></a><span class="an">editor:</span><span class="co"> </span></span>
<span id="cb129-13"><a href="#cb129-13" aria-hidden="true" tabindex="-1"></a><span class="co">  markdown: </span></span>
<span id="cb129-14"><a href="#cb129-14" aria-hidden="true" tabindex="-1"></a><span class="co">    wrap: 72</span></span>
<span id="cb129-15"><a href="#cb129-15" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb129-16"><a href="#cb129-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-17"><a href="#cb129-17" aria-hidden="true" tabindex="-1"></a><span class="fu">## DACSS 603, spring 2023</span></span>
<span id="cb129-18"><a href="#cb129-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-19"><a href="#cb129-19" aria-hidden="true" tabindex="-1"></a><span class="fu">## Final Project check-in 2, Diana Rinker.</span></span>
<span id="cb129-20"><a href="#cb129-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-21"><a href="#cb129-21" aria-hidden="true" tabindex="-1"></a><span class="fu"># Introduction. Online engagement</span></span>
<span id="cb129-22"><a href="#cb129-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-23"><a href="#cb129-23" aria-hidden="true" tabindex="-1"></a>It is well known that online engagement and popularity with the web</span>
<span id="cb129-24"><a href="#cb129-24" aria-hidden="true" tabindex="-1"></a>resource is a highly valuable metric and is driving site revenue. This</span>
<span id="cb129-25"><a href="#cb129-25" aria-hidden="true" tabindex="-1"></a>research project is exploring which factors contribute to users online</span>
<span id="cb129-26"><a href="#cb129-26" aria-hidden="true" tabindex="-1"></a>engagement.</span>
<span id="cb129-27"><a href="#cb129-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-28"><a href="#cb129-28" aria-hidden="true" tabindex="-1"></a>To do that I will use the data of an online blog on the news website.</span>
<span id="cb129-29"><a href="#cb129-29" aria-hidden="true" tabindex="-1"></a>The author of this blog is posting articles about interpersonal</span>
<span id="cb129-30"><a href="#cb129-30" aria-hidden="true" tabindex="-1"></a>relationships every work day (Mon- Fri). The posts are formulated as a</span>
<span id="cb129-31"><a href="#cb129-31" aria-hidden="true" tabindex="-1"></a>letter from a reader with the situation and a question about</span>
<span id="cb129-32"><a href="#cb129-32" aria-hidden="true" tabindex="-1"></a>relationships. The author gives an advice about the situation. Website</span>
<span id="cb129-33"><a href="#cb129-33" aria-hidden="true" tabindex="-1"></a>readers are free to comment under each post, but cannot make their own</span>
<span id="cb129-34"><a href="#cb129-34" aria-hidden="true" tabindex="-1"></a>posts.</span>
<span id="cb129-35"><a href="#cb129-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-36"><a href="#cb129-36" aria-hidden="true" tabindex="-1"></a>All post methadata and comments are public. They are saved by the</span>
<span id="cb129-37"><a href="#cb129-37" aria-hidden="true" tabindex="-1"></a>website and available for the analysis. Using this data set, I will</span>
<span id="cb129-38"><a href="#cb129-38" aria-hidden="true" tabindex="-1"></a>explore how readers' engagement connected with blogs's author</span>
<span id="cb129-39"><a href="#cb129-39" aria-hidden="true" tabindex="-1"></a>engagement, site comments', web source of readers and negative behaviors</span>
<span id="cb129-40"><a href="#cb129-40" aria-hidden="true" tabindex="-1"></a>online.</span>
<span id="cb129-41"><a href="#cb129-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-42"><a href="#cb129-42" aria-hidden="true" tabindex="-1"></a>My research question is: Does the authors engagement in the conversation</span>
<span id="cb129-43"><a href="#cb129-43" aria-hidden="true" tabindex="-1"></a>around the post makes readers more engaged and promotes positive</span>
<span id="cb129-44"><a href="#cb129-44" aria-hidden="true" tabindex="-1"></a>interactions among them?</span>
<span id="cb129-45"><a href="#cb129-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-46"><a href="#cb129-46" aria-hidden="true" tabindex="-1"></a>**DV:** My dependent construct is **"user's engagement**", I will</span>
<span id="cb129-47"><a href="#cb129-47" aria-hidden="true" tabindex="-1"></a>measure users' engagement at the level of individual post, using the</span>
<span id="cb129-48"><a href="#cb129-48" aria-hidden="true" tabindex="-1"></a>following metrics:</span>
<span id="cb129-49"><a href="#cb129-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-50"><a href="#cb129-50" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Page views</span>
<span id="cb129-51"><a href="#cb129-51" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Page visits (one visit can contain a few views, if the person visits</span>
<span id="cb129-52"><a href="#cb129-52" aria-hidden="true" tabindex="-1"></a>    other pages on the site)</span>
<span id="cb129-53"><a href="#cb129-53" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>Unique users. One person can visit the same page a few times (it is</span>
<span id="cb129-54"><a href="#cb129-54" aria-hidden="true" tabindex="-1"></a>    calculated for all time since the page was posted).</span>
<span id="cb129-55"><a href="#cb129-55" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>Number of votes: "thums up" or "thumbs down"</span>
<span id="cb129-56"><a href="#cb129-56" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span>Number of comments</span>
<span id="cb129-57"><a href="#cb129-57" aria-hidden="true" tabindex="-1"></a><span class="ss">6.  </span>Exit rate or "bounces". When the visitor is coming to the page and</span>
<span id="cb129-58"><a href="#cb129-58" aria-hidden="true" tabindex="-1"></a>    then leaving, i.e. not opening other pages on this website.</span>
<span id="cb129-59"><a href="#cb129-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-60"><a href="#cb129-60" aria-hidden="true" tabindex="-1"></a>L2 - page readers <span class="sc">\*</span> Reveal letter <span class="sc">\*</span> Reveal comments</span>
<span id="cb129-61"><a href="#cb129-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-62"><a href="#cb129-62" aria-hidden="true" tabindex="-1"></a>**IV:** My main independent variable is **Blog's author engagement.** I</span>
<span id="cb129-63"><a href="#cb129-63" aria-hidden="true" tabindex="-1"></a>will measure authors engagement as the factor variable, with the</span>
<span id="cb129-64"><a href="#cb129-64" aria-hidden="true" tabindex="-1"></a>following levels:</span>
<span id="cb129-65"><a href="#cb129-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-66"><a href="#cb129-66" aria-hidden="true" tabindex="-1"></a>A. Unspecified comment</span>
<span id="cb129-67"><a href="#cb129-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-68"><a href="#cb129-68" aria-hidden="true" tabindex="-1"></a>B. Featured comment</span>
<span id="cb129-69"><a href="#cb129-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-70"><a href="#cb129-70" aria-hidden="true" tabindex="-1"></a>C. Engagement in conversation</span>
<span id="cb129-71"><a href="#cb129-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-72"><a href="#cb129-72" aria-hidden="true" tabindex="-1"></a>To control for **confounders,** I will also measure the follwing</span>
<span id="cb129-73"><a href="#cb129-73" aria-hidden="true" tabindex="-1"></a>variables:</span>
<span id="cb129-74"><a href="#cb129-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-75"><a href="#cb129-75" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Topic of the post ("post tag"), categorical variable.</span>
<span id="cb129-76"><a href="#cb129-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-77"><a href="#cb129-77" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Source of the readers, also categorical variable.</span>
<span id="cb129-78"><a href="#cb129-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-79"><a href="#cb129-79" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>Mood of the conversation , derivative continuous variable calculated</span>
<span id="cb129-80"><a href="#cb129-80" aria-hidden="true" tabindex="-1"></a>    as the ratio of "likes" to "dislikes".</span>
<span id="cb129-81"><a href="#cb129-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-82"><a href="#cb129-82" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>Blocked and flagged comments.</span>
<span id="cb129-83"><a href="#cb129-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-84"><a href="#cb129-84" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F}</span></span>
<span id="cb129-85"><a href="#cb129-85" aria-hidden="true" tabindex="-1"></a><span class="co">#Loading necessary libraries: </span></span>
<span id="cb129-86"><a href="#cb129-86" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb129-87"><a href="#cb129-87" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb129-88"><a href="#cb129-88" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb129-89"><a href="#cb129-89" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb129-90"><a href="#cb129-90" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-91"><a href="#cb129-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-92"><a href="#cb129-92" aria-hidden="true" tabindex="-1"></a><span class="fu">### Data source and description. </span></span>
<span id="cb129-93"><a href="#cb129-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-94"><a href="#cb129-94" aria-hidden="true" tabindex="-1"></a>To answer my research question I will use two datasets. the first data</span>
<span id="cb129-95"><a href="#cb129-95" aria-hidden="true" tabindex="-1"></a>set has information about all comments associated with each post by post</span>
<span id="cb129-96"><a href="#cb129-96" aria-hidden="true" tabindex="-1"></a>ID. The second data set is analytics data for the web bage. It contains</span>
<span id="cb129-97"><a href="#cb129-97" aria-hidden="true" tabindex="-1"></a>one post per row and variables describe each post as a whole without</span>
<span id="cb129-98"><a href="#cb129-98" aria-hidden="true" tabindex="-1"></a>breaking down to the comment level.</span>
<span id="cb129-99"><a href="#cb129-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-100"><a href="#cb129-100" aria-hidden="true" tabindex="-1"></a>In this project I will analyze posts for January 2021 - February 2023.</span>
<span id="cb129-101"><a href="#cb129-101" aria-hidden="true" tabindex="-1"></a>Here is the list of variables in each dataset: </span>
<span id="cb129-102"><a href="#cb129-102" aria-hidden="true" tabindex="-1"></a>Post-level data:</span>
<span id="cb129-103"><a href="#cb129-103" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-104"><a href="#cb129-104" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span>
<span id="cb129-105"><a href="#cb129-105" aria-hidden="true" tabindex="-1"></a><span class="co"># First, I will load the data set with the comment level data:</span></span>
<span id="cb129-106"><a href="#cb129-106" aria-hidden="true" tabindex="-1"></a>raw <span class="ot">&lt;-</span> <span class="fu">as_tibble</span> (<span class="fu">read_csv</span>(<span class="st">"C:</span><span class="sc">\\</span><span class="st">Users</span><span class="sc">\\</span><span class="st">Diana</span><span class="sc">\\</span><span class="st">OneDrive - University Of Massachusetts Medical School</span><span class="sc">\\</span><span class="st">Documents</span><span class="sc">\\</span><span class="st">R</span><span class="sc">\\</span><span class="st">R working directory</span><span class="sc">\\</span><span class="st">DACSS</span><span class="sc">\\</span><span class="st">603</span><span class="sc">\\</span><span class="st">my study files for dacss603</span><span class="sc">\\</span><span class="st">globe</span><span class="sc">\\</span><span class="st"> data.2021.plus.csv"</span>))</span>
<span id="cb129-107"><a href="#cb129-107" aria-hidden="true" tabindex="-1"></a>comments.data<span class="ot">&lt;-</span>raw </span>
<span id="cb129-108"><a href="#cb129-108" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span> (comments.data)</span>
<span id="cb129-109"><a href="#cb129-109" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(comments.data<span class="sc">$</span>written_at)</span>
<span id="cb129-110"><a href="#cb129-110" aria-hidden="true" tabindex="-1"></a>comments.data <span class="ot">&lt;-</span>comments.data<span class="sc">%&gt;%</span></span>
<span id="cb129-111"><a href="#cb129-111" aria-hidden="true" tabindex="-1"></a>              <span class="fu">mutate</span>(<span class="at">com.year =</span> <span class="fu">format</span>(written_at,<span class="at">format =</span> <span class="st">"%Y"</span> ))</span>
<span id="cb129-112"><a href="#cb129-112" aria-hidden="true" tabindex="-1"></a><span class="co"># range(comments.data$com.year)</span></span>
<span id="cb129-113"><a href="#cb129-113" aria-hidden="true" tabindex="-1"></a><span class="co"># dim(comments.data)</span></span>
<span id="cb129-114"><a href="#cb129-114" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(comments.data)</span>
<span id="cb129-115"><a href="#cb129-115" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-116"><a href="#cb129-116" aria-hidden="true" tabindex="-1"></a>Comment data: </span>
<span id="cb129-117"><a href="#cb129-117" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-118"><a href="#cb129-118" aria-hidden="true" tabindex="-1"></a><span class="co"># Second, loadng post-level data :</span></span>
<span id="cb129-119"><a href="#cb129-119" aria-hidden="true" tabindex="-1"></a>merged <span class="ot">&lt;-</span> <span class="fu">as_tibble</span> (<span class="fu">read_csv</span>(<span class="st">"C:</span><span class="sc">\\</span><span class="st">Users</span><span class="sc">\\</span><span class="st">Diana</span><span class="sc">\\</span><span class="st">OneDrive - University Of Massachusetts Medical School</span><span class="sc">\\</span><span class="st">Documents</span><span class="sc">\\</span><span class="st">R</span><span class="sc">\\</span><span class="st">R working directory</span><span class="sc">\\</span><span class="st">DACSS</span><span class="sc">\\</span><span class="st">603</span><span class="sc">\\</span><span class="st">my study files for dacss603</span><span class="sc">\\</span><span class="st">globe</span><span class="sc">\\</span><span class="st">data.merged.csv"</span>))</span>
<span id="cb129-120"><a href="#cb129-120" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(merged)</span></span>
<span id="cb129-121"><a href="#cb129-121" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(merged)</span>
<span id="cb129-122"><a href="#cb129-122" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-123"><a href="#cb129-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-124"><a href="#cb129-124" aria-hidden="true" tabindex="-1"></a>Be</span>
<span id="cb129-125"><a href="#cb129-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-126"><a href="#cb129-126" aria-hidden="true" tabindex="-1"></a>To begin, I will review available variables and evaluate whether it is a</span>
<span id="cb129-127"><a href="#cb129-127" aria-hidden="true" tabindex="-1"></a>good measure for this study.</span>
<span id="cb129-128"><a href="#cb129-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-129"><a href="#cb129-129" aria-hidden="true" tabindex="-1"></a><span class="fu"># 1.DV: popularity and engagement. </span></span>
<span id="cb129-130"><a href="#cb129-130" aria-hidden="true" tabindex="-1"></a><span class="fu">## 1.1.Popularity</span></span>
<span id="cb129-131"><a href="#cb129-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-132"><a href="#cb129-132" aria-hidden="true" tabindex="-1"></a><span class="fu">### Page views</span></span>
<span id="cb129-133"><a href="#cb129-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-134"><a href="#cb129-134" aria-hidden="true" tabindex="-1"></a>This is the most general metric, representing how many views the post</span>
<span id="cb129-135"><a href="#cb129-135" aria-hidden="true" tabindex="-1"></a>received. Views do not distinguish repeated views by the same person.</span>
<span id="cb129-136"><a href="#cb129-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-137"><a href="#cb129-137" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-138"><a href="#cb129-138" aria-hidden="true" tabindex="-1"></a><span class="co"># str(merged)</span></span>
<span id="cb129-139"><a href="#cb129-139" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span><span class="st">`</span><span class="at">Page views</span><span class="st">`</span>))<span class="sc">+</span></span>
<span id="cb129-140"><a href="#cb129-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span>
<span id="cb129-141"><a href="#cb129-141" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-142"><a href="#cb129-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-143"><a href="#cb129-143" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-144"><a href="#cb129-144" aria-hidden="true" tabindex="-1"></a>merged<span class="sc">$</span>post.month <span class="ot">&lt;-</span><span class="fu">as.numeric</span>(merged<span class="sc">$</span>post.month)</span>
<span id="cb129-145"><a href="#cb129-145" aria-hidden="true" tabindex="-1"></a>merged<span class="sc">$</span>year_month <span class="ot">&lt;-</span> <span class="fu">paste0</span>(merged<span class="sc">$</span>post.year, <span class="st">"-"</span>, <span class="fu">sprintf</span>(<span class="st">"%02d"</span>, merged<span class="sc">$</span>post.month))</span>
<span id="cb129-146"><a href="#cb129-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-147"><a href="#cb129-147" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( <span class="at">data=</span>merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">y=</span><span class="st">`</span><span class="at">Page views</span><span class="st">`</span>, <span class="at">x=</span>year_month))<span class="sc">+</span></span>
<span id="cb129-148"><a href="#cb129-148" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_boxplot</span>()<span class="sc">+</span></span>
<span id="cb129-149"><a href="#cb129-149" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Number of post wiews per month"</span>, <span class="at">x=</span><span class="st">"Month"</span>, <span class="at">y=</span><span class="st">"Number of vews"</span>)<span class="sc">+</span> </span>
<span id="cb129-150"><a href="#cb129-150" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb129-151"><a href="#cb129-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-152"><a href="#cb129-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-153"><a href="#cb129-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-154"><a href="#cb129-154" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplot(data=merged, mapping=aes(x=log(`Page views`)))+</span></span>
<span id="cb129-155"><a href="#cb129-155" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_histogram()</span></span>
<span id="cb129-156"><a href="#cb129-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-157"><a href="#cb129-157" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-158"><a href="#cb129-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-159"><a href="#cb129-159" aria-hidden="true" tabindex="-1"></a>From this graph we can see that the numbers of views is increased over</span>
<span id="cb129-160"><a href="#cb129-160" aria-hidden="true" tabindex="-1"></a>time. To get a better understanding of it, lets review other metrics.</span>
<span id="cb129-161"><a href="#cb129-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-162"><a href="#cb129-162" aria-hidden="true" tabindex="-1"></a><span class="fu">### Page visits and unique users</span></span>
<span id="cb129-163"><a href="#cb129-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-164"><a href="#cb129-164" aria-hidden="true" tabindex="-1"></a>Visit is an instance of a user engaging with bdc website. The user can</span>
<span id="cb129-165"><a href="#cb129-165" aria-hidden="true" tabindex="-1"></a>visit a few pages of the site and re-visit them, creaing few views in</span>
<span id="cb129-166"><a href="#cb129-166" aria-hidden="true" tabindex="-1"></a>once visit.Once th user left the website, the visit is over.</span>
<span id="cb129-167"><a href="#cb129-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-168"><a href="#cb129-168" aria-hidden="true" tabindex="-1"></a>There also can be many visits by the same viewer. To account for</span>
<span id="cb129-169"><a href="#cb129-169" aria-hidden="true" tabindex="-1"></a>repeated users there is "Uniques" variable. It tells us how many unique</span>
<span id="cb129-170"><a href="#cb129-170" aria-hidden="true" tabindex="-1"></a>users saw the post. The relationship will always be that</span>
<span id="cb129-171"><a href="#cb129-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-172"><a href="#cb129-172" aria-hidden="true" tabindex="-1"></a>Uniques <span class="sc">\&lt;</span> Visits <span class="sc">\&lt;</span> Views</span>
<span id="cb129-173"><a href="#cb129-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-174"><a href="#cb129-174" aria-hidden="true" tabindex="-1"></a>Lets plot them together:</span>
<span id="cb129-175"><a href="#cb129-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-176"><a href="#cb129-176" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-177"><a href="#cb129-177" aria-hidden="true" tabindex="-1"></a><span class="co"># str(merged)</span></span>
<span id="cb129-178"><a href="#cb129-178" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="fu">aes</span>(<span class="at">x =</span>post.date )) <span class="sc">+</span></span>
<span id="cb129-179"><a href="#cb129-179" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">Page views</span><span class="st">`</span>, <span class="at">fill =</span> <span class="st">"Page views"</span>), <span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">width =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb129-180"><a href="#cb129-180" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> Visits, <span class="at">fill =</span> <span class="st">"Visits"</span>), <span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">width =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb129-181"><a href="#cb129-181" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> Uniques, <span class="at">fill =</span> <span class="st">"Unique users"</span>), <span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">width =</span> <span class="fl">0.6</span>)    <span class="sc">+</span></span>
<span id="cb129-182"><a href="#cb129-182" aria-hidden="true" tabindex="-1"></a>     <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Views, visits and unique users per month"</span>, <span class="at">x =</span> <span class="st">"Post.date"</span>, <span class="at">y =</span> <span class="st">"Value"</span>) <span class="sc">+</span> </span>
<span id="cb129-183"><a href="#cb129-183" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb129-184"><a href="#cb129-184" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-185"><a href="#cb129-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-186"><a href="#cb129-186" aria-hidden="true" tabindex="-1"></a>This graph also shows increase in all three metrics in 2022-2023. To see</span>
<span id="cb129-187"><a href="#cb129-187" aria-hidden="true" tabindex="-1"></a>how these metrics crrespond to each other, I will calculate "visits</span>
<span id="cb129-188"><a href="#cb129-188" aria-hidden="true" tabindex="-1"></a>ratio" and "unique.ratio".</span>
<span id="cb129-189"><a href="#cb129-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-190"><a href="#cb129-190" aria-hidden="true" tabindex="-1"></a><span class="fu">### Page unique viewers.</span></span>
<span id="cb129-191"><a href="#cb129-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-192"><a href="#cb129-192" aria-hidden="true" tabindex="-1"></a>Becuse "Uniques" variable represents number of unique people who came to</span>
<span id="cb129-193"><a href="#cb129-193" aria-hidden="true" tabindex="-1"></a>the page and viewed it at least once, his metric represents popularity</span>
<span id="cb129-194"><a href="#cb129-194" aria-hidden="true" tabindex="-1"></a>of the post. It's distribution shows us that not all posts are equally</span>
<span id="cb129-195"><a href="#cb129-195" aria-hidden="true" tabindex="-1"></a>popular:</span>
<span id="cb129-196"><a href="#cb129-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-197"><a href="#cb129-197" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-198"><a href="#cb129-198" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(merged)</span></span>
<span id="cb129-199"><a href="#cb129-199" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>Uniques))<span class="sc">+</span></span>
<span id="cb129-200"><a href="#cb129-200" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span>
<span id="cb129-201"><a href="#cb129-201" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-202"><a href="#cb129-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-203"><a href="#cb129-203" aria-hidden="true" tabindex="-1"></a>We can see a long tail on the right, showing that there is a number of</span>
<span id="cb129-204"><a href="#cb129-204" aria-hidden="true" tabindex="-1"></a>posts who are way more popular. If we look at the distribution of this</span>
<span id="cb129-205"><a href="#cb129-205" aria-hidden="true" tabindex="-1"></a>variable over time, we will see significant increase of average</span>
<span id="cb129-206"><a href="#cb129-206" aria-hidden="true" tabindex="-1"></a>popularity after December 2021.</span>
<span id="cb129-207"><a href="#cb129-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-208"><a href="#cb129-208" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-209"><a href="#cb129-209" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( <span class="at">data=</span>merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">y=</span>Uniques, <span class="at">x=</span>merged<span class="sc">$</span>year_month))<span class="sc">+</span></span>
<span id="cb129-210"><a href="#cb129-210" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_boxplot</span>()<span class="sc">+</span></span>
<span id="cb129-211"><a href="#cb129-211" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Number of unique viewers per month"</span>, <span class="at">x=</span><span class="st">"Month"</span>, <span class="at">y=</span><span class="st">"Number of unique viewers"</span>)<span class="sc">+</span> </span>
<span id="cb129-212"><a href="#cb129-212" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb129-213"><a href="#cb129-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-214"><a href="#cb129-214" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-215"><a href="#cb129-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-216"><a href="#cb129-216" aria-hidden="true" tabindex="-1"></a><span class="fu">## 1.2. Engagement metrics:</span></span>
<span id="cb129-217"><a href="#cb129-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-218"><a href="#cb129-218" aria-hidden="true" tabindex="-1"></a><span class="fu">### Visit ratio and unique ratio:</span></span>
<span id="cb129-219"><a href="#cb129-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-220"><a href="#cb129-220" aria-hidden="true" tabindex="-1"></a>"visits ratio" is the number of visits per total views. This metric</span>
<span id="cb129-221"><a href="#cb129-221" aria-hidden="true" tabindex="-1"></a>tells us how often the page being re-viewed. The lower the ratio means</span>
<span id="cb129-222"><a href="#cb129-222" aria-hidden="true" tabindex="-1"></a>that the page was viewed more times during single visit. Since repeated</span>
<span id="cb129-223"><a href="#cb129-223" aria-hidden="true" tabindex="-1"></a>view can be considered a higher engagement, the lower visit ratio</span>
<span id="cb129-224"><a href="#cb129-224" aria-hidden="true" tabindex="-1"></a>indicates higher engagement.</span>
<span id="cb129-225"><a href="#cb129-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-226"><a href="#cb129-226" aria-hidden="true" tabindex="-1"></a>"unique ratio" - number of unique users per total views. It is telling</span>
<span id="cb129-227"><a href="#cb129-227" aria-hidden="true" tabindex="-1"></a>us how often the same person re-visited the post. Lower ratio indicates</span>
<span id="cb129-228"><a href="#cb129-228" aria-hidden="true" tabindex="-1"></a>repeated users, therefore higher engagement.</span>
<span id="cb129-229"><a href="#cb129-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-230"><a href="#cb129-230" aria-hidden="true" tabindex="-1"></a>Both ratios are always in the range of 0 - 1.</span>
<span id="cb129-231"><a href="#cb129-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-232"><a href="#cb129-232" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-233"><a href="#cb129-233" aria-hidden="true" tabindex="-1"></a>  merged <span class="ot">&lt;-</span> merged <span class="sc">%&gt;%</span></span>
<span id="cb129-234"><a href="#cb129-234" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">uniques.ratio =</span> Uniques <span class="sc">/</span> <span class="st">`</span><span class="at">Page views</span><span class="st">`</span>)<span class="sc">%&gt;%</span></span>
<span id="cb129-235"><a href="#cb129-235" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">visits.ratio =</span> Visits <span class="sc">/</span> <span class="st">`</span><span class="at">Page views</span><span class="st">`</span>)</span>
<span id="cb129-236"><a href="#cb129-236" aria-hidden="true" tabindex="-1"></a><span class="co"># str(merged)</span></span>
<span id="cb129-237"><a href="#cb129-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-238"><a href="#cb129-238" aria-hidden="true" tabindex="-1"></a>     <span class="fu">ggplot</span>(merged, <span class="fu">aes</span>( <span class="at">y =</span> uniques.ratio, <span class="at">x =</span>post.date, )) <span class="sc">+</span></span>
<span id="cb129-239"><a href="#cb129-239" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_point</span>(<span class="at">color =</span><span class="st">"green"</span> )    <span class="sc">+</span></span>
<span id="cb129-240"><a href="#cb129-240" aria-hidden="true" tabindex="-1"></a>          <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Unique.ratio per post "</span>, <span class="at">x =</span> <span class="st">"Post.date"</span>, <span class="at">y =</span> <span class="st">"Value"</span>) <span class="sc">+</span> </span>
<span id="cb129-241"><a href="#cb129-241" aria-hidden="true" tabindex="-1"></a>          <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))  </span>
<span id="cb129-242"><a href="#cb129-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-243"><a href="#cb129-243" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ggplot</span>(merged, <span class="fu">aes</span>( <span class="at">y =</span> visits.ratio, <span class="at">x =</span>post.date, )) <span class="sc">+</span></span>
<span id="cb129-244"><a href="#cb129-244" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_point</span>(<span class="at">color =</span><span class="st">"blue"</span> )    <span class="sc">+</span></span>
<span id="cb129-245"><a href="#cb129-245" aria-hidden="true" tabindex="-1"></a>          <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Visits.ratio per post "</span>, <span class="at">x =</span> <span class="st">"Post.date"</span>, <span class="at">y =</span> <span class="st">"Value"</span>) <span class="sc">+</span> </span>
<span id="cb129-246"><a href="#cb129-246" aria-hidden="true" tabindex="-1"></a>          <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb129-247"><a href="#cb129-247" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb129-248"><a href="#cb129-248" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-249"><a href="#cb129-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-250"><a href="#cb129-250" aria-hidden="true" tabindex="-1"></a>From the two graphs above we can see that the two variables are</span>
<span id="cb129-251"><a href="#cb129-251" aria-hidden="true" tabindex="-1"></a>distributed very similarly.</span>
<span id="cb129-252"><a href="#cb129-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-253"><a href="#cb129-253" aria-hidden="true" tabindex="-1"></a>If we plot them against each other and visualize their correlation, we</span>
<span id="cb129-254"><a href="#cb129-254" aria-hidden="true" tabindex="-1"></a>can see that they highly correlated especially in higher values.</span>
<span id="cb129-255"><a href="#cb129-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-256"><a href="#cb129-256" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-257"><a href="#cb129-257" aria-hidden="true" tabindex="-1"></a>      <span class="fu">plot</span>(merged<span class="sc">$</span>uniques.ratio, merged<span class="sc">$</span>visits.ratio)</span>
<span id="cb129-258"><a href="#cb129-258" aria-hidden="true" tabindex="-1"></a>correlation <span class="ot">&lt;-</span> <span class="fu">cor</span>(merged<span class="sc">$</span>uniques.ratio, merged<span class="sc">$</span>visits.ratio)</span>
<span id="cb129-259"><a href="#cb129-259" aria-hidden="true" tabindex="-1"></a>correlation</span>
<span id="cb129-260"><a href="#cb129-260" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-261"><a href="#cb129-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-262"><a href="#cb129-262" aria-hidden="true" tabindex="-1"></a>Density of the distribution also showing that most posts are visited</span>
<span id="cb129-263"><a href="#cb129-263" aria-hidden="true" tabindex="-1"></a>once and by unique users, i.e. post is read once by each user.</span>
<span id="cb129-264"><a href="#cb129-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-265"><a href="#cb129-265" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-266"><a href="#cb129-266" aria-hidden="true" tabindex="-1"></a><span class="co"># DENSITY DISTRIBUTION HERE </span></span>
<span id="cb129-267"><a href="#cb129-267" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb129-268"><a href="#cb129-268" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-269"><a href="#cb129-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-270"><a href="#cb129-270" aria-hidden="true" tabindex="-1"></a><span class="fu">### Exit rate</span></span>
<span id="cb129-271"><a href="#cb129-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-272"><a href="#cb129-272" aria-hidden="true" tabindex="-1"></a>This variable is measuring how many people visited the page and then</span>
<span id="cb129-273"><a href="#cb129-273" aria-hidden="true" tabindex="-1"></a>left the website after the first view. This metric is the best measure</span>
<span id="cb129-274"><a href="#cb129-274" aria-hidden="true" tabindex="-1"></a>of engagement for all users, as it represents the first step after being</span>
<span id="cb129-275"><a href="#cb129-275" aria-hidden="true" tabindex="-1"></a>exposed to the post - either quitting the site or remaining on the site.</span>
<span id="cb129-276"><a href="#cb129-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-277"><a href="#cb129-277" aria-hidden="true" tabindex="-1"></a>Here can see the distribution of this variable :</span>
<span id="cb129-278"><a href="#cb129-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-279"><a href="#cb129-279" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-280"><a href="#cb129-280" aria-hidden="true" tabindex="-1"></a><span class="co"># str(merged)</span></span>
<span id="cb129-281"><a href="#cb129-281" aria-hidden="true" tabindex="-1"></a>merged<span class="sc">$</span><span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">sub</span>(<span class="st">"%"</span>, <span class="st">""</span>, merged<span class="sc">$</span><span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span>)) <span class="sc">/</span> <span class="dv">100</span></span>
<span id="cb129-282"><a href="#cb129-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-283"><a href="#cb129-283" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span><span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span>))<span class="sc">+</span></span>
<span id="cb129-284"><a href="#cb129-284" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span>
<span id="cb129-285"><a href="#cb129-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-286"><a href="#cb129-286" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-287"><a href="#cb129-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-288"><a href="#cb129-288" aria-hidden="true" tabindex="-1"></a>We can also see consistent increase of this value ovr time, similar to</span>
<span id="cb129-289"><a href="#cb129-289" aria-hidden="true" tabindex="-1"></a>the trend seen before:</span>
<span id="cb129-290"><a href="#cb129-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-291"><a href="#cb129-291" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-292"><a href="#cb129-292" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>year_month , <span class="at">y=</span><span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span>, <span class="at">fill=</span>year_month ))<span class="sc">+</span></span>
<span id="cb129-293"><a href="#cb129-293" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb129-294"><a href="#cb129-294" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"distribution of `Exit rate` per post "</span>, <span class="at">y =</span> <span class="st">"Exit rate"</span> , <span class="at">x=</span><span class="st">"Month"</span>)<span class="sc">+</span> </span>
<span id="cb129-295"><a href="#cb129-295" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb129-296"><a href="#cb129-296" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-297"><a href="#cb129-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-298"><a href="#cb129-298" aria-hidden="true" tabindex="-1"></a><span class="fu">### Number of reactions</span></span>
<span id="cb129-299"><a href="#cb129-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-300"><a href="#cb129-300" aria-hidden="true" tabindex="-1"></a>This represents total amount of likes and dislikes of comments per</span>
<span id="cb129-301"><a href="#cb129-301" aria-hidden="true" tabindex="-1"></a>post.To like/dislike the comment, user doesn't have to log in.</span>
<span id="cb129-302"><a href="#cb129-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-303"><a href="#cb129-303" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-304"><a href="#cb129-304" aria-hidden="true" tabindex="-1"></a><span class="co"># merged$year_month </span></span>
<span id="cb129-305"><a href="#cb129-305" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(merged)</span></span>
<span id="cb129-306"><a href="#cb129-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-307"><a href="#cb129-307" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>post.total.likes))<span class="sc">+</span></span>
<span id="cb129-308"><a href="#cb129-308" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()<span class="sc">+</span></span>
<span id="cb129-309"><a href="#cb129-309" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">" Number of all reactions per post"</span>)</span>
<span id="cb129-310"><a href="#cb129-310" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-311"><a href="#cb129-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-312"><a href="#cb129-312" aria-hidden="true" tabindex="-1"></a>Since we already saw that there is large variability in popularity of</span>
<span id="cb129-313"><a href="#cb129-313" aria-hidden="true" tabindex="-1"></a>posts, which can natually impact absolute amount of reactions. To</span>
<span id="cb129-314"><a href="#cb129-314" aria-hidden="true" tabindex="-1"></a>account for number of views, we calculate reactions.ratio:</span>
<span id="cb129-315"><a href="#cb129-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-316"><a href="#cb129-316" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-317"><a href="#cb129-317" aria-hidden="true" tabindex="-1"></a>  merged <span class="ot">&lt;-</span> merged <span class="sc">%&gt;%</span></span>
<span id="cb129-318"><a href="#cb129-318" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">reactions.ratio =</span> post.total.likes <span class="sc">/</span> <span class="st">`</span><span class="at">Page views</span><span class="st">`</span>)</span>
<span id="cb129-319"><a href="#cb129-319" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb129-320"><a href="#cb129-320" aria-hidden="true" tabindex="-1"></a><span class="co"># str(merged)</span></span>
<span id="cb129-321"><a href="#cb129-321" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>year_month , <span class="at">y=</span>reactions.ratio, <span class="at">fill=</span>year_month ))<span class="sc">+</span></span>
<span id="cb129-322"><a href="#cb129-322" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb129-323"><a href="#cb129-323" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"distribution of reactions "</span>, <span class="at">y =</span> <span class="st">"Percentage of reactions "</span> )<span class="sc">+</span></span>
<span id="cb129-324"><a href="#cb129-324" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span> (<span class="at">from=</span><span class="dv">0</span>, <span class="at">to=</span> <span class="dv">10000</span>, <span class="at">by=</span> <span class="dv">100</span>)) <span class="sc">+</span> </span>
<span id="cb129-325"><a href="#cb129-325" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb129-326"><a href="#cb129-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-327"><a href="#cb129-327" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-328"><a href="#cb129-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-329"><a href="#cb129-329" aria-hidden="true" tabindex="-1"></a>The absolute number of reactions and the ratio appear to decrease over</span>
<span id="cb129-330"><a href="#cb129-330" aria-hidden="true" tabindex="-1"></a>time.</span>
<span id="cb129-331"><a href="#cb129-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-332"><a href="#cb129-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-333"><a href="#cb129-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-334"><a href="#cb129-334" aria-hidden="true" tabindex="-1"></a><span class="fu">### Number of comments: engagement metric for subset of readers. Absolute and per views.</span></span>
<span id="cb129-335"><a href="#cb129-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-336"><a href="#cb129-336" aria-hidden="true" tabindex="-1"></a>To comment on the requires logging in from a user, which is an indicator</span>
<span id="cb129-337"><a href="#cb129-337" aria-hidden="true" tabindex="-1"></a>of greater engagement of an individual user. Therefore this variable</span>
<span id="cb129-338"><a href="#cb129-338" aria-hidden="true" tabindex="-1"></a>represents engagement of a subset of users - more loyal readers who have</span>
<span id="cb129-339"><a href="#cb129-339" aria-hidden="true" tabindex="-1"></a>created an account.</span>
<span id="cb129-340"><a href="#cb129-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-341"><a href="#cb129-341" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-342"><a href="#cb129-342" aria-hidden="true" tabindex="-1"></a><span class="co"># merged$year_month </span></span>
<span id="cb129-343"><a href="#cb129-343" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>n.comments))<span class="sc">+</span></span>
<span id="cb129-344"><a href="#cb129-344" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span>
<span id="cb129-345"><a href="#cb129-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-346"><a href="#cb129-346" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-347"><a href="#cb129-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-348"><a href="#cb129-348" aria-hidden="true" tabindex="-1"></a>And change in the distribution over time:</span>
<span id="cb129-349"><a href="#cb129-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-350"><a href="#cb129-350" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-351"><a href="#cb129-351" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>year_month , <span class="at">y=</span>n.comments, <span class="at">fill=</span>year_month ))<span class="sc">+</span></span>
<span id="cb129-352"><a href="#cb129-352" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb129-353"><a href="#cb129-353" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"distribution of comments per post "</span>, <span class="at">y =</span> <span class="st">"Number of comments"</span> )<span class="sc">+</span></span>
<span id="cb129-354"><a href="#cb129-354" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span> (<span class="at">from=</span><span class="dv">0</span>, <span class="at">to=</span> <span class="dv">10000</span>, <span class="at">by=</span> <span class="dv">100</span>)) <span class="sc">+</span> </span>
<span id="cb129-355"><a href="#cb129-355" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb129-356"><a href="#cb129-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-357"><a href="#cb129-357" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-358"><a href="#cb129-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-359"><a href="#cb129-359" aria-hidden="true" tabindex="-1"></a>The trend in amount of comments over time is different. While previously</span>
<span id="cb129-360"><a href="#cb129-360" aria-hidden="true" tabindex="-1"></a>reviewed variables seemed to increase over time, this variable</span>
<span id="cb129-361"><a href="#cb129-361" aria-hidden="true" tabindex="-1"></a>decreases.</span>
<span id="cb129-362"><a href="#cb129-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-363"><a href="#cb129-363" aria-hidden="true" tabindex="-1"></a>We can calculate the ratio of comments per If we compare absolute values</span>
<span id="cb129-364"><a href="#cb129-364" aria-hidden="true" tabindex="-1"></a>fo comments and ratio of comments per page views, we see the decrease in</span>
<span id="cb129-365"><a href="#cb129-365" aria-hidden="true" tabindex="-1"></a>both cases, while the ratio's decrease is more dramatic:</span>
<span id="cb129-366"><a href="#cb129-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-367"><a href="#cb129-367" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-368"><a href="#cb129-368" aria-hidden="true" tabindex="-1"></a>  merged <span class="ot">&lt;-</span> merged <span class="sc">%&gt;%</span></span>
<span id="cb129-369"><a href="#cb129-369" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">comments.ratio =</span> n.comments<span class="sc">/</span> <span class="st">`</span><span class="at">Page views</span><span class="st">`</span>)</span>
<span id="cb129-370"><a href="#cb129-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-371"><a href="#cb129-371" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>year_month , <span class="at">y=</span>comments.ratio, <span class="at">fill=</span>year_month ))<span class="sc">+</span></span>
<span id="cb129-372"><a href="#cb129-372" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb129-373"><a href="#cb129-373" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"distribution of comments ratio (comments/page views) "</span>, <span class="at">y =</span> <span class="st">"Number of comments"</span> )<span class="sc">+</span></span>
<span id="cb129-374"><a href="#cb129-374" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span> (<span class="at">from=</span><span class="dv">0</span>, <span class="at">to=</span> <span class="dv">10000</span>, <span class="at">by=</span> <span class="dv">100</span>)) <span class="sc">+</span> </span>
<span id="cb129-375"><a href="#cb129-375" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb129-376"><a href="#cb129-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-377"><a href="#cb129-377" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-378"><a href="#cb129-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-379"><a href="#cb129-379" aria-hidden="true" tabindex="-1"></a>WE can see that with an increase of views (mostly driven by post</span>
<span id="cb129-380"><a href="#cb129-380" aria-hidden="true" tabindex="-1"></a>popularity), comments ratio decreeases. So, newly added viewers are not</span>
<span id="cb129-381"><a href="#cb129-381" aria-hidden="true" tabindex="-1"></a>adding to the engaged subset of readers.</span>
<span id="cb129-382"><a href="#cb129-382" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- It is also more likely that the users who logged and commented will return to the post page , which would correspond with the decrased in visits.ratio and uniques.ratio).  --&gt;</span></span>
<span id="cb129-383"><a href="#cb129-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-384"><a href="#cb129-384" aria-hidden="true" tabindex="-1"></a>The distribution of comments per post over time:</span>
<span id="cb129-385"><a href="#cb129-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-386"><a href="#cb129-386" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-387"><a href="#cb129-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-388"><a href="#cb129-388" aria-hidden="true" tabindex="-1"></a><span class="co"># str(merged)</span></span>
<span id="cb129-389"><a href="#cb129-389" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>year_month , <span class="at">y=</span>post.total.likes, <span class="at">fill=</span>year_month ))<span class="sc">+</span></span>
<span id="cb129-390"><a href="#cb129-390" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb129-391"><a href="#cb129-391" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"distribution of reactions over time  "</span>, <span class="at">y =</span> <span class="st">"Percentage of reactions "</span> )<span class="sc">+</span></span>
<span id="cb129-392"><a href="#cb129-392" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span> (<span class="at">from=</span><span class="dv">0</span>, <span class="at">to=</span> <span class="dv">10000</span>, <span class="at">by=</span> <span class="dv">100</span>)) <span class="sc">+</span> </span>
<span id="cb129-393"><a href="#cb129-393" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb129-394"><a href="#cb129-394" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb129-395"><a href="#cb129-395" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-396"><a href="#cb129-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-397"><a href="#cb129-397" aria-hidden="true" tabindex="-1"></a><span class="fu">## 1.3 Impact of popularity on engagement.</span></span>
<span id="cb129-398"><a href="#cb129-398" aria-hidden="true" tabindex="-1"></a>Since we noticed a pattern in distribution of describbed variables, lets find out how they are interconnected, and how popularity of the post impact users' engagement: </span>
<span id="cb129-399"><a href="#cb129-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-400"><a href="#cb129-400" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb129-401"><a href="#cb129-401" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-402"><a href="#cb129-402" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(<span class="fu">subset</span> (merged, <span class="at">select=</span><span class="fu">c</span>(Uniques, <span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span>, uniques.ratio, visits.ratio, reactions.ratio )))</span>
<span id="cb129-403"><a href="#cb129-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-404"><a href="#cb129-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-405"><a href="#cb129-405" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-406"><a href="#cb129-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-407"><a href="#cb129-407" aria-hidden="true" tabindex="-1"></a>This graph showing that  popularity is  strongly correlated with all engagement metrics, such as Exit rate, uniques ratio, visit ratio and reaction's ratio, where an increase in popularity causes decrease of engagement across all 4 metrics for engagement.</span>
<span id="cb129-408"><a href="#cb129-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-409"><a href="#cb129-409" aria-hidden="true" tabindex="-1"></a>We can also see that the relationship between Popularity and engagement rate are curvi-linear. If we log the values, we will see linear relationship: </span>
<span id="cb129-410"><a href="#cb129-410" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-411"><a href="#cb129-411" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(<span class="fu">subset</span> (merged, <span class="at">select=</span><span class="fu">c</span>(<span class="fu">log</span>(Uniques), <span class="fu">log</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span>), uniques.ratio, visits.ratio, reactions.ratio )))</span>
<span id="cb129-412"><a href="#cb129-412" aria-hidden="true" tabindex="-1"></a><span class="co"># WHT DOES THE GRAPH SHOWS POST.DATE and POST.DATE1  INSTEAD OF "UNIQUES" and  "Exit rate"? </span></span>
<span id="cb129-413"><a href="#cb129-413" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-414"><a href="#cb129-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-415"><a href="#cb129-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-416"><a href="#cb129-416" aria-hidden="true" tabindex="-1"></a>As we saw in the distributions of variables above, all engagement metrics are strongly correlate with each other the popularity metric. </span>
<span id="cb129-417"><a href="#cb129-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-418"><a href="#cb129-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-419"><a href="#cb129-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-420"><a href="#cb129-420" aria-hidden="true" tabindex="-1"></a><span class="fu">### 1.3.1. Modeling engagement ~ popularity: </span></span>
<span id="cb129-421"><a href="#cb129-421" aria-hidden="true" tabindex="-1"></a>Lets review how it is impacting exit rate :</span>
<span id="cb129-422"><a href="#cb129-422" aria-hidden="true" tabindex="-1"></a>I will use "Exit rate" s my main engagement  variable, as it reporesents the first engagement chouce that all site users make: to stay on the site or leave. Using log() of popularity is shoing a better fitted model: </span>
<span id="cb129-423"><a href="#cb129-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-424"><a href="#cb129-424" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-425"><a href="#cb129-425" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span><span class="fu">log</span>(Uniques), <span class="at">y=</span><span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> ))<span class="sc">+</span></span>
<span id="cb129-426"><a href="#cb129-426" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb129-427"><a href="#cb129-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-428"><a href="#cb129-428" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span><span class="sc">~</span> <span class="sc">+</span> <span class="fu">log</span>(Uniques) , <span class="at">data =</span> merged))</span>
<span id="cb129-429"><a href="#cb129-429" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-430"><a href="#cb129-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-431"><a href="#cb129-431" aria-hidden="true" tabindex="-1"></a>We can see  significance of popularity and  high R^2 of the model, and can conclude that popularity overall decreases engagement.  To explore this connection further, lets mreview Sources of users that are coming to the website.</span>
<span id="cb129-432"><a href="#cb129-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-433"><a href="#cb129-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-434"><a href="#cb129-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-435"><a href="#cb129-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-436"><a href="#cb129-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-437"><a href="#cb129-437" aria-hidden="true" tabindex="-1"></a><span class="fu">### 1.3.2. How popularity impacts engagement: Referral sources.</span></span>
<span id="cb129-438"><a href="#cb129-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-439"><a href="#cb129-439" aria-hidden="true" tabindex="-1"></a>The website analytics provides information on where the viewers are</span>
<span id="cb129-440"><a href="#cb129-440" aria-hidden="true" tabindex="-1"></a>coming from to the blog page. for example, if people clicked on the blog</span>
<span id="cb129-441"><a href="#cb129-441" aria-hidden="true" tabindex="-1"></a>link posted on FaceBook, that would be referral from social media. If</span>
<span id="cb129-442"><a href="#cb129-442" aria-hidden="true" tabindex="-1"></a>people clicked on the blog link within BDC website, that would be "BDC</span>
<span id="cb129-443"><a href="#cb129-443" aria-hidden="true" tabindex="-1"></a>referral visit".</span>
<span id="cb129-444"><a href="#cb129-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-445"><a href="#cb129-445" aria-hidden="true" tabindex="-1"></a>There are 5 sources of referrals, each corresponding with a variable in</span>
<span id="cb129-446"><a href="#cb129-446" aria-hidden="true" tabindex="-1"></a>the data set. Variable's value is a number of visits from this referral</span>
<span id="cb129-447"><a href="#cb129-447" aria-hidden="true" tabindex="-1"></a>source.</span>
<span id="cb129-448"><a href="#cb129-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-449"><a href="#cb129-449" aria-hidden="true" tabindex="-1"></a><span class="in">```         </span></span>
<span id="cb129-450"><a href="#cb129-450" aria-hidden="true" tabindex="-1"></a><span class="in">    "Search + amp referral visits"</span></span>
<span id="cb129-451"><a href="#cb129-451" aria-hidden="true" tabindex="-1"></a><span class="in">    "Direct (non-email) referral visits"</span></span>
<span id="cb129-452"><a href="#cb129-452" aria-hidden="true" tabindex="-1"></a><span class="in">    "Other website referral visits"</span></span>
<span id="cb129-453"><a href="#cb129-453" aria-hidden="true" tabindex="-1"></a><span class="in">    "Social referral visits"</span></span>
<span id="cb129-454"><a href="#cb129-454" aria-hidden="true" tabindex="-1"></a><span class="in">    "BDC referral visits"</span></span>
<span id="cb129-455"><a href="#cb129-455" aria-hidden="true" tabindex="-1"></a><span class="in">    "Visits when post was on LL HP" </span></span>
<span id="cb129-456"><a href="#cb129-456" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-457"><a href="#cb129-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-458"><a href="#cb129-458" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-459"><a href="#cb129-459" aria-hidden="true" tabindex="-1"></a><span class="co">#renaming variables for convenience: </span></span>
<span id="cb129-460"><a href="#cb129-460" aria-hidden="true" tabindex="-1"></a>merged<span class="ot">&lt;-</span>merged<span class="sc">%&gt;%</span></span>
<span id="cb129-461"><a href="#cb129-461" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">google =</span><span class="st">"Search + amp referral visits"</span>,</span>
<span id="cb129-462"><a href="#cb129-462" aria-hidden="true" tabindex="-1"></a>         <span class="at">direct =</span><span class="st">"Direct (non-email) referral visits"</span>,</span>
<span id="cb129-463"><a href="#cb129-463" aria-hidden="true" tabindex="-1"></a>         <span class="at">other.web =</span> <span class="st">"Other website referral visits"</span>,</span>
<span id="cb129-464"><a href="#cb129-464" aria-hidden="true" tabindex="-1"></a>          <span class="at">social=</span> <span class="st">"Social referral visits"</span>,</span>
<span id="cb129-465"><a href="#cb129-465" aria-hidden="true" tabindex="-1"></a>          <span class="at">bdc=</span> <span class="st">"BDC referral visits"</span>,</span>
<span id="cb129-466"><a href="#cb129-466" aria-hidden="true" tabindex="-1"></a>          <span class="at">ll=</span> <span class="st">"Visits when post was on LL HP"</span> )</span>
<span id="cb129-467"><a href="#cb129-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-468"><a href="#cb129-468" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>post.date))<span class="sc">+</span></span>
<span id="cb129-469"><a href="#cb129-469" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>google), <span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb129-470"><a href="#cb129-470" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>direct), <span class="at">color=</span><span class="st">"green"</span>)<span class="sc">+</span></span>
<span id="cb129-471"><a href="#cb129-471" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>other.web), <span class="at">color=</span><span class="st">"yellow"</span>)<span class="sc">+</span></span>
<span id="cb129-472"><a href="#cb129-472" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>social), <span class="at">color=</span><span class="st">"purple"</span>)<span class="sc">+</span></span>
<span id="cb129-473"><a href="#cb129-473" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>bdc), <span class="at">color=</span><span class="st">"blue"</span>)<span class="sc">+</span></span>
<span id="cb129-474"><a href="#cb129-474" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>ll), <span class="at">color=</span><span class="st">"pink"</span>)  <span class="sc">+</span></span>
<span id="cb129-475"><a href="#cb129-475" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"referral sources per post "</span>, <span class="at">y =</span> <span class="st">"Number of referrals"</span> , <span class="at">x=</span><span class="st">"Post"</span>)<span class="sc">+</span> </span>
<span id="cb129-476"><a href="#cb129-476" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb129-477"><a href="#cb129-477" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-478"><a href="#cb129-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-479"><a href="#cb129-479" aria-hidden="true" tabindex="-1"></a>This graph clearly demonstrates increase of "Search + amp referral</span>
<span id="cb129-480"><a href="#cb129-480" aria-hidden="true" tabindex="-1"></a>visits" after December 2021, while other referral sources maintain the</span>
<span id="cb129-481"><a href="#cb129-481" aria-hidden="true" tabindex="-1"></a>same level over time. This increase matches changes observed in</span>
<span id="cb129-482"><a href="#cb129-482" aria-hidden="true" tabindex="-1"></a>popularity ( Page Views), and engagement metrics that are highly</span>
<span id="cb129-483"><a href="#cb129-483" aria-hidden="true" tabindex="-1"></a>correlated with popularity. It also doubles views of the posts in many</span>
<span id="cb129-484"><a href="#cb129-484" aria-hidden="true" tabindex="-1"></a>cases and might significanly influence our model and conclusions.</span>
<span id="cb129-485"><a href="#cb129-485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-486"><a href="#cb129-486" aria-hidden="true" tabindex="-1"></a><span class="fu">### Early comments'impact </span></span>
<span id="cb129-487"><a href="#cb129-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-488"><a href="#cb129-488" aria-hidden="true" tabindex="-1"></a>We saw that increased popularity is associated with the sources of the viewers and might come from the search engines.</span>
<span id="cb129-489"><a href="#cb129-489" aria-hidden="true" tabindex="-1"></a>We want to find out if early engagement in the post ( comments within first 10 hours of the post time) trigger its appearance in google news listing and therefore cause sharp increase in popularity. </span>
<span id="cb129-490"><a href="#cb129-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-491"><a href="#cb129-491" aria-hidden="true" tabindex="-1"></a>We are interested to find out, what characteristics of the post (prior</span>
<span id="cb129-492"><a href="#cb129-492" aria-hidden="true" tabindex="-1"></a>to it being picked up by google), correlate with its appearance on</span>
<span id="cb129-493"><a href="#cb129-493" aria-hidden="true" tabindex="-1"></a>google news.</span>
<span id="cb129-494"><a href="#cb129-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-495"><a href="#cb129-495" aria-hidden="true" tabindex="-1"></a>Number of comments within 1st 10 hours from the post.</span>
<span id="cb129-496"><a href="#cb129-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-497"><a href="#cb129-497" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-498"><a href="#cb129-498" aria-hidden="true" tabindex="-1"></a><span class="co">#  calculating number of comments within first 10 hours </span></span>
<span id="cb129-499"><a href="#cb129-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-500"><a href="#cb129-500" aria-hidden="true" tabindex="-1"></a><span class="co"># date and time of the post </span></span>
<span id="cb129-501"><a href="#cb129-501" aria-hidden="true" tabindex="-1"></a>post.date  <span class="ot">&lt;-</span>comments.data <span class="sc">%&gt;%</span></span>
<span id="cb129-502"><a href="#cb129-502" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(post_id)<span class="sc">%&gt;%</span></span>
<span id="cb129-503"><a href="#cb129-503" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(written_at)<span class="sc">%&gt;%</span></span>
<span id="cb129-504"><a href="#cb129-504" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">post.dt =</span> <span class="fu">first</span>(written_at), </span>
<span id="cb129-505"><a href="#cb129-505" aria-hidden="true" tabindex="-1"></a>            <span class="at">n.coms =</span><span class="fu">n</span>())<span class="sc">%&gt;%</span></span>
<span id="cb129-506"><a href="#cb129-506" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (n.coms<span class="sc">&gt;</span><span class="dv">100</span>)<span class="sc">%&gt;%</span></span>
<span id="cb129-507"><a href="#cb129-507" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(post_id, post.dt, n.coms)<span class="sc">%&gt;%</span></span>
<span id="cb129-508"><a href="#cb129-508" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(<span class="fu">desc</span>(post_id))</span>
<span id="cb129-509"><a href="#cb129-509" aria-hidden="true" tabindex="-1"></a><span class="co"># head(post.date)</span></span>
<span id="cb129-510"><a href="#cb129-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-511"><a href="#cb129-511" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating age of the post </span></span>
<span id="cb129-512"><a href="#cb129-512" aria-hidden="true" tabindex="-1"></a>comments.data <span class="ot">&lt;-</span> <span class="fu">merge</span>( comments.data , post.date , <span class="at">by =</span> <span class="st">"post_id"</span>, <span class="at">all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb129-513"><a href="#cb129-513" aria-hidden="true" tabindex="-1"></a>comments.data <span class="ot">&lt;-</span>comments.data <span class="sc">%&gt;%</span></span>
<span id="cb129-514"><a href="#cb129-514" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">age =</span> <span class="fu">difftime</span>(  written_at,post.dt, <span class="at">units =</span> <span class="st">"hours"</span>), </span>
<span id="cb129-515"><a href="#cb129-515" aria-hidden="true" tabindex="-1"></a>          <span class="at">early =</span> <span class="fu">ifelse</span>(age<span class="sc">&lt;</span><span class="dv">10</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb129-516"><a href="#cb129-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-517"><a href="#cb129-517" aria-hidden="true" tabindex="-1"></a>early.coms  <span class="ot">&lt;-</span>comments.data<span class="sc">%&gt;%</span></span>
<span id="cb129-518"><a href="#cb129-518" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(post_id)<span class="sc">%&gt;%</span></span>
<span id="cb129-519"><a href="#cb129-519" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(written_at)<span class="sc">%&gt;%</span></span>
<span id="cb129-520"><a href="#cb129-520" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">early.sum =</span> <span class="fu">sum</span>(early), </span>
<span id="cb129-521"><a href="#cb129-521" aria-hidden="true" tabindex="-1"></a>            <span class="at">n.coms =</span><span class="fu">n</span>())<span class="sc">%&gt;%</span></span>
<span id="cb129-522"><a href="#cb129-522" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (n.coms<span class="sc">&gt;</span><span class="dv">100</span>)<span class="sc">%&gt;%</span></span>
<span id="cb129-523"><a href="#cb129-523" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(post_id, early.sum)<span class="sc">%&gt;%</span></span>
<span id="cb129-524"><a href="#cb129-524" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(<span class="fu">desc</span>(post_id))</span>
<span id="cb129-525"><a href="#cb129-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-526"><a href="#cb129-526" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding number of early comments to merged dataset:</span></span>
<span id="cb129-527"><a href="#cb129-527" aria-hidden="true" tabindex="-1"></a>merged <span class="ot">&lt;-</span> <span class="fu">merge</span>( merged, early.coms , <span class="at">by =</span> <span class="st">"post_id"</span>, <span class="at">all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb129-528"><a href="#cb129-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-529"><a href="#cb129-529" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(merged )</span>
<span id="cb129-530"><a href="#cb129-530" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-531"><a href="#cb129-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-532"><a href="#cb129-532" aria-hidden="true" tabindex="-1"></a>Now, as I calculated number of early comments for all posts, I can see</span>
<span id="cb129-533"><a href="#cb129-533" aria-hidden="true" tabindex="-1"></a>if that number correlated with Google referrals. </span>
<span id="cb129-534"><a href="#cb129-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-535"><a href="#cb129-535" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-536"><a href="#cb129-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-537"><a href="#cb129-537" aria-hidden="true" tabindex="-1"></a>merged<span class="fl">.2</span><span class="ot">&lt;-</span>merged<span class="sc">%&gt;%</span></span>
<span id="cb129-538"><a href="#cb129-538" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(google<span class="sc">&gt;</span><span class="dv">10000</span>)</span>
<span id="cb129-539"><a href="#cb129-539" aria-hidden="true" tabindex="-1"></a>correlation<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">cor</span>(merged<span class="fl">.2</span><span class="sc">$</span>early.sum, merged<span class="fl">.2</span><span class="sc">$</span>google)</span>
<span id="cb129-540"><a href="#cb129-540" aria-hidden="true" tabindex="-1"></a>correlation<span class="fl">.2</span></span>
<span id="cb129-541"><a href="#cb129-541" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(merged<span class="fl">.2</span><span class="sc">$</span>early.sum, merged<span class="fl">.2</span><span class="sc">$</span>google)</span>
<span id="cb129-542"><a href="#cb129-542" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-543"><a href="#cb129-543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-544"><a href="#cb129-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-545"><a href="#cb129-545" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-546"><a href="#cb129-546" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(google <span class="sc">~</span>early.sum, <span class="at">data=</span>merged<span class="fl">.2</span>))</span>
<span id="cb129-547"><a href="#cb129-547" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(google <span class="sc">~</span>early.sum, <span class="at">data=</span>merged))</span>
<span id="cb129-548"><a href="#cb129-548" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-549"><a href="#cb129-549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-550"><a href="#cb129-550" aria-hidden="true" tabindex="-1"></a>We can see significant connection between early comments and google</span>
<span id="cb129-551"><a href="#cb129-551" aria-hidden="true" tabindex="-1"></a>referrals,  only on the data set of google referrals above 10000 visits. Also, R\^2 is low in this model, which</span>
<span id="cb129-552"><a href="#cb129-552" aria-hidden="true" tabindex="-1"></a>suggests that there are other factors that are not considered in this</span>
<span id="cb129-553"><a href="#cb129-553" aria-hidden="true" tabindex="-1"></a>model. I will explore how days of the week and time of the post</span>
<span id="cb129-554"><a href="#cb129-554" aria-hidden="true" tabindex="-1"></a>contribute to this relationship.</span>
<span id="cb129-555"><a href="#cb129-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-556"><a href="#cb129-556" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-557"><a href="#cb129-557" aria-hidden="true" tabindex="-1"></a><span class="co"># calculating day of the week for the post: </span></span>
<span id="cb129-558"><a href="#cb129-558" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(comments.data)</span>
<span id="cb129-559"><a href="#cb129-559" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating age of the post </span></span>
<span id="cb129-560"><a href="#cb129-560" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb129-561"><a href="#cb129-561" aria-hidden="true" tabindex="-1"></a>comments.data <span class="ot">&lt;-</span>comments.data <span class="sc">%&gt;%</span></span>
<span id="cb129-562"><a href="#cb129-562" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span> (<span class="at">weekday =</span> <span class="fu">wday</span>(post.dt, <span class="at">label =</span> <span class="cn">TRUE</span>), </span>
<span id="cb129-563"><a href="#cb129-563" aria-hidden="true" tabindex="-1"></a>          <span class="at">weekend =</span> <span class="fu">ifelse</span>(weekday <span class="sc">==</span><span class="st">"Fri"</span> <span class="sc">|</span> weekday <span class="sc">==</span> <span class="st">"Sat"</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb129-564"><a href="#cb129-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-565"><a href="#cb129-565" aria-hidden="true" tabindex="-1"></a><span class="co"># class(week.days$weekday)</span></span>
<span id="cb129-566"><a href="#cb129-566" aria-hidden="true" tabindex="-1"></a><span class="co"># levels(week.days$weekday) </span></span>
<span id="cb129-567"><a href="#cb129-567" aria-hidden="true" tabindex="-1"></a><span class="co"># week.days$weekend</span></span>
<span id="cb129-568"><a href="#cb129-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-569"><a href="#cb129-569" aria-hidden="true" tabindex="-1"></a>weekdays <span class="ot">&lt;-</span>comments.data <span class="sc">%&gt;%</span></span>
<span id="cb129-570"><a href="#cb129-570" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(post_id)<span class="sc">%&gt;%</span></span>
<span id="cb129-571"><a href="#cb129-571" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(written_at)<span class="sc">%&gt;%</span></span>
<span id="cb129-572"><a href="#cb129-572" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">post.weekday =</span> <span class="fu">first</span>(weekday), </span>
<span id="cb129-573"><a href="#cb129-573" aria-hidden="true" tabindex="-1"></a>            <span class="at">post.weekend =</span><span class="fu">first</span>(weekend),</span>
<span id="cb129-574"><a href="#cb129-574" aria-hidden="true" tabindex="-1"></a>            <span class="at">n.coms =</span><span class="fu">n</span>())<span class="sc">%&gt;%</span></span>
<span id="cb129-575"><a href="#cb129-575" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (n.coms<span class="sc">&gt;</span><span class="dv">100</span>)<span class="sc">%&gt;%</span></span>
<span id="cb129-576"><a href="#cb129-576" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(post_id, post.weekday,post.weekend )<span class="sc">%&gt;%</span></span>
<span id="cb129-577"><a href="#cb129-577" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(<span class="fu">desc</span>(post_id))</span>
<span id="cb129-578"><a href="#cb129-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-579"><a href="#cb129-579" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding number of early comments to merged dataset:</span></span>
<span id="cb129-580"><a href="#cb129-580" aria-hidden="true" tabindex="-1"></a>merged <span class="ot">&lt;-</span> <span class="fu">merge</span>( merged, weekdays , <span class="at">by =</span> <span class="st">"post_id"</span>, <span class="at">all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb129-581"><a href="#cb129-581" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(merged)</span>
<span id="cb129-582"><a href="#cb129-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-583"><a href="#cb129-583" aria-hidden="true" tabindex="-1"></a><span class="co"># levels(merged$post.weekday)</span></span>
<span id="cb129-584"><a href="#cb129-584" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-585"><a href="#cb129-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-586"><a href="#cb129-586" aria-hidden="true" tabindex="-1"></a><span class="fu">### Post weekdays to the model</span></span>
<span id="cb129-587"><a href="#cb129-587" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-588"><a href="#cb129-588" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-589"><a href="#cb129-589" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-590"><a href="#cb129-590" aria-hidden="true" tabindex="-1"></a>merged<span class="fl">.2</span><span class="ot">&lt;-</span>merged <span class="sc">%&gt;%</span></span>
<span id="cb129-591"><a href="#cb129-591" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(google<span class="sc">&gt;</span><span class="dv">10000</span>)</span>
<span id="cb129-592"><a href="#cb129-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-593"><a href="#cb129-593" aria-hidden="true" tabindex="-1"></a> <span class="fu">plot</span>(merged<span class="sc">$</span>post.weekday, merged<span class="sc">$</span>google)</span>
<span id="cb129-594"><a href="#cb129-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-595"><a href="#cb129-595" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="fu">log</span>(google) <span class="sc">~</span>early.sum <span class="sc">+</span>post.weekday , <span class="at">data=</span>merged<span class="fl">.2</span>))</span>
<span id="cb129-596"><a href="#cb129-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-597"><a href="#cb129-597" aria-hidden="true" tabindex="-1"></a><span class="co"># table(merged.weekdays$post.weekday)</span></span>
<span id="cb129-598"><a href="#cb129-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-599"><a href="#cb129-599" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span> (merged, <span class="at">mapping =</span><span class="fu">aes</span>(<span class="at">x=</span>early.sum, <span class="at">y=</span>google, <span class="at">color =</span>post.weekday))<span class="sc">+</span></span>
<span id="cb129-600"><a href="#cb129-600" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( ) <span class="sc">+</span></span>
<span id="cb129-601"><a href="#cb129-601" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb129-602"><a href="#cb129-602" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"All google referrals and early comments"</span>, <span class="at">y =</span> <span class="st">"Google referrals"</span> , <span class="at">x=</span><span class="st">"Early comments"</span>)<span class="sc">+</span> </span>
<span id="cb129-603"><a href="#cb129-603" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb129-604"><a href="#cb129-604" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>post.weekday)</span>
<span id="cb129-605"><a href="#cb129-605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-606"><a href="#cb129-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-607"><a href="#cb129-607" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span> (merged<span class="fl">.2</span>, <span class="at">mapping =</span><span class="fu">aes</span>(<span class="at">x=</span>early.sum, <span class="at">y=</span>google, <span class="at">color =</span>post.weekday))<span class="sc">+</span></span>
<span id="cb129-608"><a href="#cb129-608" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( ) <span class="sc">+</span></span>
<span id="cb129-609"><a href="#cb129-609" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb129-610"><a href="#cb129-610" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Google referrals over 10K and early comments"</span>, <span class="at">y =</span> <span class="st">"Google referrals"</span> , <span class="at">x=</span><span class="st">"Early comments"</span>)<span class="sc">+</span> </span>
<span id="cb129-611"><a href="#cb129-611" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb129-612"><a href="#cb129-612" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>post.weekday)</span>
<span id="cb129-613"><a href="#cb129-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-614"><a href="#cb129-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-615"><a href="#cb129-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-616"><a href="#cb129-616" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-617"><a href="#cb129-617" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-618"><a href="#cb129-618" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-619"><a href="#cb129-619" aria-hidden="true" tabindex="-1"></a>Early comments indeed influence Google referrals. However, this influence is different on different days of the week and appears more pronounced on Thursdays and Fridays.  This overall supports our suggestion that early engagement of loyal users through comments impacts post popularity. further investigation of factors would be helpful, with the goal to  model fit (R^2).</span>
<span id="cb129-620"><a href="#cb129-620" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-621"><a href="#cb129-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-622"><a href="#cb129-622" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-623"><a href="#cb129-623" aria-hidden="true" tabindex="-1"></a>Our hypothesis that large amount of early comments triggers google</span>
<span id="cb129-624"><a href="#cb129-624" aria-hidden="true" tabindex="-1"></a>referrals has some preliminary support with the few restrictiions to be considere: </span>
<span id="cb129-625"><a href="#cb129-625" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>the connection only appears on the posts with google referrals above 10000. </span>
<span id="cb129-626"><a href="#cb129-626" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>This connection is atronger for only thursdays and Fridays and  appears very weak on other days of the week. </span>
<span id="cb129-627"><a href="#cb129-627" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>low coefficient and high deviation of data from predicated valaues (low R\^2) suggest</span>
<span id="cb129-628"><a href="#cb129-628" aria-hidden="true" tabindex="-1"></a>that there are other , more influential, factors that were not considered. </span>
<span id="cb129-629"><a href="#cb129-629" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-630"><a href="#cb129-630" aria-hidden="true" tabindex="-1"></a><span class="fu">## 1.4.Conclusion</span></span>
<span id="cb129-631"><a href="#cb129-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-632"><a href="#cb129-632" aria-hidden="true" tabindex="-1"></a>As we reviewed a variety of engagement metric, I found:</span>
<span id="cb129-633"><a href="#cb129-633" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>That they are all strongly correlated to each other and influenced by post popularity:</span>
<span id="cb129-634"><a href="#cb129-634" aria-hidden="true" tabindex="-1"></a>Engagement overall decreases as popularity increases.In our further analysis I will need to include "Uniques" variable in the</span>
<span id="cb129-635"><a href="#cb129-635" aria-hidden="true" tabindex="-1"></a>model to control for popularity</span>
<span id="cb129-636"><a href="#cb129-636" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-637"><a href="#cb129-637" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Also as a result of exploration of engagement metrics, we can</span>
<span id="cb129-638"><a href="#cb129-638" aria-hidden="true" tabindex="-1"></a>    distinguish two types of users: superficial visitors and loyal</span>
<span id="cb129-639"><a href="#cb129-639" aria-hidden="true" tabindex="-1"></a>    readers. The main difference is that loyal readers have created</span>
<span id="cb129-640"><a href="#cb129-640" aria-hidden="true" tabindex="-1"></a>    accounts and therefore can comment. It is possible that htese two groups of readers  respond differently to popularity increase, as well as other Independent variables. Therefore, the difference in types of readers must be considered when addressing our main hypothesi: whether authors engagement and other factors impacts reader's engagement.</span>
<span id="cb129-641"><a href="#cb129-641" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb129-642"><a href="#cb129-642" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Early engagement of loyal users through comments might contribute to dramatic changes in post popularity. </span>
<span id="cb129-643"><a href="#cb129-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-644"><a href="#cb129-644" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-645"><a href="#cb129-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-646"><a href="#cb129-646" aria-hidden="true" tabindex="-1"></a>Now, lets consider independent variables of our main hypothesis. </span>
<span id="cb129-647"><a href="#cb129-647" aria-hidden="true" tabindex="-1"></a><span class="fu"># 2. Independent variables (IV):</span></span>
<span id="cb129-648"><a href="#cb129-648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-649"><a href="#cb129-649" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-650"><a href="#cb129-650" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb129-651"><a href="#cb129-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-652"><a href="#cb129-652" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-653"><a href="#cb129-653" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>()</span>
<span id="cb129-654"><a href="#cb129-654" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-655"><a href="#cb129-655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-656"><a href="#cb129-656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-657"><a href="#cb129-657" aria-hidden="true" tabindex="-1"></a><span class="fu">### Authors comments</span></span>
<span id="cb129-658"><a href="#cb129-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-659"><a href="#cb129-659" aria-hidden="true" tabindex="-1"></a>To identify, how much the author of the blog is engaged in the post, I</span>
<span id="cb129-660"><a href="#cb129-660" aria-hidden="true" tabindex="-1"></a>will create an additional variable derived from a user_name field.</span>
<span id="cb129-661"><a href="#cb129-661" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-662"><a href="#cb129-662" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-663"><a href="#cb129-663" aria-hidden="true" tabindex="-1"></a><span class="co"># str(merged)</span></span>
<span id="cb129-664"><a href="#cb129-664" aria-hidden="true" tabindex="-1"></a>comments.data<span class="sc">$</span>user_name<span class="ot">&lt;-</span>  <span class="fu">ifelse</span> (<span class="fu">is.na</span>(comments.data<span class="sc">$</span>user_name), <span class="dv">0</span>, comments.data<span class="sc">$</span>user_name)</span>
<span id="cb129-665"><a href="#cb129-665" aria-hidden="true" tabindex="-1"></a>comments.data<span class="sc">$</span>author<span class="ot">&lt;-</span>  <span class="fu">ifelse</span> (comments.data<span class="sc">$</span>user_name<span class="sc">==</span><span class="st">"MeredithGoldstein"</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb129-666"><a href="#cb129-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-667"><a href="#cb129-667" aria-hidden="true" tabindex="-1"></a>comments.grouped <span class="ot">&lt;-</span>comments.data <span class="sc">%&gt;%</span></span>
<span id="cb129-668"><a href="#cb129-668" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(post_id)<span class="sc">%&gt;%</span></span>
<span id="cb129-669"><a href="#cb129-669" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n.comments=</span><span class="fu">n</span>(),</span>
<span id="cb129-670"><a href="#cb129-670" aria-hidden="true" tabindex="-1"></a>            <span class="at">author.sum =</span> <span class="fu">sum</span>(author))</span>
<span id="cb129-671"><a href="#cb129-671" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-672"><a href="#cb129-672" aria-hidden="true" tabindex="-1"></a><span class="co"># dim(comments.grouped )</span></span>
<span id="cb129-673"><a href="#cb129-673" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(comments.grouped )</span></span>
<span id="cb129-674"><a href="#cb129-674" aria-hidden="true" tabindex="-1"></a><span class="co"># class(comments.grouped$author.sum)</span></span>
<span id="cb129-675"><a href="#cb129-675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-676"><a href="#cb129-676" aria-hidden="true" tabindex="-1"></a><span class="co"># Comments data contains rows that dont actually reporesent posts, and were crearted by web support team for troubleshooting. I need to remove these rows. They typically have very low number of comments</span></span>
<span id="cb129-677"><a href="#cb129-677" aria-hidden="true" tabindex="-1"></a>comments.grouped <span class="ot">&lt;-</span>comments.grouped <span class="sc">%&gt;%</span></span>
<span id="cb129-678"><a href="#cb129-678" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(n.comments <span class="sc">&gt;</span><span class="dv">100</span>)  <span class="co"># removing invalid posts created by the  website management team.</span></span>
<span id="cb129-679"><a href="#cb129-679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-680"><a href="#cb129-680" aria-hidden="true" tabindex="-1"></a>comments.grouped <span class="ot">&lt;-</span>comments.grouped <span class="sc">%&gt;%</span></span>
<span id="cb129-681"><a href="#cb129-681" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(post_id, author.sum)</span>
<span id="cb129-682"><a href="#cb129-682" aria-hidden="true" tabindex="-1"></a> <span class="fu">dim</span>(comments.grouped)</span>
<span id="cb129-683"><a href="#cb129-683" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb129-684"><a href="#cb129-684" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb129-685"><a href="#cb129-685" aria-hidden="true" tabindex="-1"></a><span class="co">#adding author.sum to main data set: </span></span>
<span id="cb129-686"><a href="#cb129-686" aria-hidden="true" tabindex="-1"></a>merged <span class="ot">&lt;-</span> <span class="fu">merge</span>( merged , comments.grouped, <span class="at">by =</span> <span class="st">"post_id"</span>, <span class="at">all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb129-687"><a href="#cb129-687" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-688"><a href="#cb129-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-689"><a href="#cb129-689" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>merged, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>year_month , <span class="at">y=</span>author.sum, <span class="at">fill=</span>year_month ))<span class="sc">+</span></span>
<span id="cb129-690"><a href="#cb129-690" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb129-691"><a href="#cb129-691" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"distribution of Author's comments by months"</span>, <span class="at">y =</span> <span class="st">"Author's comments"</span> , <span class="at">x=</span><span class="st">"Month"</span>)<span class="sc">+</span> </span>
<span id="cb129-692"><a href="#cb129-692" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb129-693"><a href="#cb129-693" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-694"><a href="#cb129-694" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-695"><a href="#cb129-695" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-696"><a href="#cb129-696" aria-hidden="true" tabindex="-1"></a>This graph shows, that majority of posts have no author's comments.</span>
<span id="cb129-697"><a href="#cb129-697" aria-hidden="true" tabindex="-1"></a>However, if we look at the box plots' upper ranges, we can suggest a</span>
<span id="cb129-698"><a href="#cb129-698" aria-hidden="true" tabindex="-1"></a>trend of decrease in author's comments with time.</span>
<span id="cb129-699"><a href="#cb129-699" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-700"><a href="#cb129-700" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mood of the post.</span></span>
<span id="cb129-701"><a href="#cb129-701" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-702"><a href="#cb129-702" aria-hidden="true" tabindex="-1"></a>This is a numerical variable, calculated as percentage of "thumbs up"</span>
<span id="cb129-703"><a href="#cb129-703" aria-hidden="true" tabindex="-1"></a>from all likes (both "thumbs up" and "thumbs down").</span>
<span id="cb129-704"><a href="#cb129-704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-705"><a href="#cb129-705" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-706"><a href="#cb129-706" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>year_month , <span class="at">y=</span>pct.positive, <span class="at">fill=</span>year_month ))<span class="sc">+</span></span>
<span id="cb129-707"><a href="#cb129-707" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb129-708"><a href="#cb129-708" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"distribution of Mood per post "</span>, <span class="at">y =</span> <span class="st">"Mood"</span> , <span class="at">x=</span><span class="st">"Month"</span>)<span class="sc">+</span> </span>
<span id="cb129-709"><a href="#cb129-709" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb129-710"><a href="#cb129-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-711"><a href="#cb129-711" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-712"><a href="#cb129-712" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-713"><a href="#cb129-713" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-714"><a href="#cb129-714" aria-hidden="true" tabindex="-1"></a><span class="fu">### Blocked comments per post.</span></span>
<span id="cb129-715"><a href="#cb129-715" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-716"><a href="#cb129-716" aria-hidden="true" tabindex="-1"></a>Now I will visualize amount of blocked comments per post:</span>
<span id="cb129-717"><a href="#cb129-717" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-718"><a href="#cb129-718" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-719"><a href="#cb129-719" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-720"><a href="#cb129-720" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>year_month , <span class="at">y=</span>blocked.sum, <span class="at">fill=</span>year_month ))<span class="sc">+</span></span>
<span id="cb129-721"><a href="#cb129-721" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb129-722"><a href="#cb129-722" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Number Blocked comments  per post "</span>, <span class="at">y =</span> <span class="st">"Number of blocked comments per post"</span> , <span class="at">x=</span><span class="st">"Month"</span>)<span class="sc">+</span> </span>
<span id="cb129-723"><a href="#cb129-723" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb129-724"><a href="#cb129-724" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-725"><a href="#cb129-725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-726"><a href="#cb129-726" aria-hidden="true" tabindex="-1"></a><span class="fu"># 3. Creating the model for main hypothesis testing</span></span>
<span id="cb129-727"><a href="#cb129-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-728"><a href="#cb129-728" aria-hidden="true" tabindex="-1"></a>As we mentioned above, we will add popularity to the model when testing main hypothesis. Also,  I am going to break the data set into two groups: prior to December 2021 and after December 2021 due to  dramatic change in referral sources. I will use these two datasets to to test my main hypothesis and compare results. </span>
<span id="cb129-729"><a href="#cb129-729" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-730"><a href="#cb129-730" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-731"><a href="#cb129-731" aria-hidden="true" tabindex="-1"></a>merged<span class="fl">.2021</span> <span class="ot">&lt;-</span> merged<span class="sc">%&gt;%</span></span>
<span id="cb129-732"><a href="#cb129-732" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(post.date <span class="sc">&lt;</span>    <span class="st">"2021-12-01"</span>)</span>
<span id="cb129-733"><a href="#cb129-733" aria-hidden="true" tabindex="-1"></a>merged<span class="fl">.2022</span> <span class="ot">&lt;-</span> merged<span class="sc">%&gt;%</span></span>
<span id="cb129-734"><a href="#cb129-734" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(post.date <span class="sc">&gt;=</span>   <span class="st">"2021-12-01"</span>)</span>
<span id="cb129-735"><a href="#cb129-735" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-736"><a href="#cb129-736" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-737"><a href="#cb129-737" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-738"><a href="#cb129-738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-739"><a href="#cb129-739" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-740"><a href="#cb129-740" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3.1 Basic model. </span></span>
<span id="cb129-741"><a href="#cb129-741" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-742"><a href="#cb129-742" aria-hidden="true" tabindex="-1"></a>I will start with creating a simple model of engagement ~ popularity and author's engagement: </span>
<span id="cb129-743"><a href="#cb129-743" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-744"><a href="#cb129-744" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-745"><a href="#cb129-745" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(merged)</span></span>
<span id="cb129-746"><a href="#cb129-746" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum, <span class="at">data =</span> merged))</span>
<span id="cb129-747"><a href="#cb129-747" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum, <span class="at">data =</span> merged<span class="fl">.2021</span>))</span>
<span id="cb129-748"><a href="#cb129-748" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum, <span class="at">data =</span> merged<span class="fl">.2022</span>))</span>
<span id="cb129-749"><a href="#cb129-749" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-750"><a href="#cb129-750" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-751"><a href="#cb129-751" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-752"><a href="#cb129-752" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-753"><a href="#cb129-753" aria-hidden="true" tabindex="-1"></a>To see how engagement of a subset of readers changes (loyal readers),  I will use another measure for engagement as DV, which represents only registered users:  number of comments. </span>
<span id="cb129-754"><a href="#cb129-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-755"><a href="#cb129-755" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-756"><a href="#cb129-756" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(n.comments <span class="sc">~</span> <span class="fu">log</span>(Uniques) <span class="sc">+</span> author.sum , <span class="at">data =</span> merged))</span>
<span id="cb129-757"><a href="#cb129-757" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-758"><a href="#cb129-758" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-759"><a href="#cb129-759" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-760"><a href="#cb129-760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-761"><a href="#cb129-761" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-762"><a href="#cb129-762" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-763"><a href="#cb129-763" aria-hidden="true" tabindex="-1"></a>This shows that engagement is decreasing with popularity and someone increasing with author's comments. </span>
<span id="cb129-764"><a href="#cb129-764" aria-hidden="true" tabindex="-1"></a>for loyal readers : engagement is also sensitive to author's comments, but not sensitive to popularity of the post.</span>
<span id="cb129-765"><a href="#cb129-765" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-766"><a href="#cb129-766" aria-hidden="true" tabindex="-1"></a><span class="fu">###  analize change in x1 and x2 to y , considering log() </span></span>
<span id="cb129-767"><a href="#cb129-767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-768"><a href="#cb129-768" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3.2 Adding other variables.</span></span>
<span id="cb129-769"><a href="#cb129-769" aria-hidden="true" tabindex="-1"></a>Now I will add other variables  to see if there is any impact on the results of the model with engagement of both groups of readers. </span>
<span id="cb129-770"><a href="#cb129-770" aria-hidden="true" tabindex="-1"></a>For number of comments,  I would have to select either early.sum  or n.comments, due to high correlation between them</span>
<span id="cb129-771"><a href="#cb129-771" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-772"><a href="#cb129-772" aria-hidden="true" tabindex="-1"></a>(<span class="fu">cor</span>(merged<span class="sc">$</span>early.sum, merged<span class="sc">$</span>n.comments))</span>
<span id="cb129-773"><a href="#cb129-773" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-774"><a href="#cb129-774" aria-hidden="true" tabindex="-1"></a>I am including n/comments in the model, to see if engagement of loyal readers through comments impact overall engagement:</span>
<span id="cb129-775"><a href="#cb129-775" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-776"><a href="#cb129-776" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-777"><a href="#cb129-777" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(merged)</span></span>
<span id="cb129-778"><a href="#cb129-778" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum<span class="sc">+</span>post.weekday <span class="sc">+</span>n.comments, <span class="at">data =</span> merged))</span>
<span id="cb129-779"><a href="#cb129-779" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-780"><a href="#cb129-780" aria-hidden="true" tabindex="-1"></a>Ahd it is shown to be significant, negativelly impacting overall engagement. considering our finding s earlier, that early comments increase popularity and therefore decrease overall engagement, this is expected. Tuesday as level of "weekday" also shows to significantly decrease engagement. </span>
<span id="cb129-781"><a href="#cb129-781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-782"><a href="#cb129-782" aria-hidden="true" tabindex="-1"></a>Authors engagement, day of the week(Tuesday) and blocked comments seem to increase engagement. </span>
<span id="cb129-783"><a href="#cb129-783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-784"><a href="#cb129-784" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-785"><a href="#cb129-785" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(n.comments <span class="sc">~</span> <span class="fu">log</span>(Uniques) <span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum <span class="sc">+</span>post.weekday, <span class="at">data =</span> merged)) <span class="co">#not adding early.sum due to high correlation with DV: cor(merged$early.sum, merged$n.comments): 0.95</span></span>
<span id="cb129-786"><a href="#cb129-786" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-787"><a href="#cb129-787" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-788"><a href="#cb129-788" aria-hidden="true" tabindex="-1"></a> While general viewers show no impact by mood of the post or blocked comments, we see significant positive correlation of engagement with all of these metrics for loyal readers(=commenters). </span>
<span id="cb129-789"><a href="#cb129-789" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-790"><a href="#cb129-790" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-791"><a href="#cb129-791" aria-hidden="true" tabindex="-1"></a>Number of comments, representing engagement is somewhat impacted by</span>
<span id="cb129-792"><a href="#cb129-792" aria-hidden="true" tabindex="-1"></a>three independent variables, but this model has low R\^2 , which</span>
<span id="cb129-793"><a href="#cb129-793" aria-hidden="true" tabindex="-1"></a>suggests that there are other factors impacting loyal reader's</span>
<span id="cb129-794"><a href="#cb129-794" aria-hidden="true" tabindex="-1"></a>engagement that are not considered in this model.</span>
<span id="cb129-795"><a href="#cb129-795" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-796"><a href="#cb129-796" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-797"><a href="#cb129-797" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-798"><a href="#cb129-798" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-799"><a href="#cb129-799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-800"><a href="#cb129-800" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3.3 Using different datasets for comparing: </span></span>
<span id="cb129-801"><a href="#cb129-801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-802"><a href="#cb129-802" aria-hidden="true" tabindex="-1"></a><span class="fu">### Exit rate  for 2021 and 2022:</span></span>
<span id="cb129-803"><a href="#cb129-803" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-804"><a href="#cb129-804" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-805"><a href="#cb129-805" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(merged)</span></span>
<span id="cb129-806"><a href="#cb129-806" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum, <span class="at">data =</span> merged<span class="fl">.2021</span>))</span>
<span id="cb129-807"><a href="#cb129-807" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum, <span class="at">data =</span> merged<span class="fl">.2022</span>))</span>
<span id="cb129-808"><a href="#cb129-808" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb129-809"><a href="#cb129-809" aria-hidden="true" tabindex="-1"></a>Exit rate (engagement) still correlates with popularity of the site or bot 2021 and 2021,confirming the same finding from un-splitted data set earlier. </span>
<span id="cb129-810"><a href="#cb129-810" aria-hidden="true" tabindex="-1"></a>However, author's comments appear only be relevant to all user's engagement in 2022, and not in 2021. Mood of the post appears  significant for user's engagement only in 2021, and blocked comments only appear significant in 2022. </span>
<span id="cb129-811"><a href="#cb129-811" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3.2 Diagnostic of the model: </span></span>
<span id="cb129-812"><a href="#cb129-812" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-813"><a href="#cb129-813" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=T}</span></span>
<span id="cb129-814"><a href="#cb129-814" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(merged)</span></span>
<span id="cb129-815"><a href="#cb129-815" aria-hidden="true" tabindex="-1"></a>model.ex.r<span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum, <span class="at">data =</span> merged)</span>
<span id="cb129-816"><a href="#cb129-816" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-817"><a href="#cb129-817" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>))</span>
<span id="cb129-818"><a href="#cb129-818" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(model.ex.r, <span class="at">which =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)</span>
<span id="cb129-819"><a href="#cb129-819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-820"><a href="#cb129-820" aria-hidden="true" tabindex="-1"></a>ex.r<span class="fl">.2021</span> <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum, <span class="at">data =</span> merged<span class="fl">.2021</span>)</span>
<span id="cb129-821"><a href="#cb129-821" aria-hidden="true" tabindex="-1"></a>ex.r<span class="fl">.2022</span> <span class="ot">&lt;-</span><span class="fu">lm</span>(<span class="st">`</span><span class="at">Exit rate</span><span class="st">`</span> <span class="sc">~</span> <span class="fu">log</span>(Uniques)<span class="sc">+</span> author.sum <span class="sc">+</span> pct.positive <span class="sc">+</span>blocked.sum, <span class="at">data =</span> merged<span class="fl">.2022</span>)</span>
<span id="cb129-822"><a href="#cb129-822" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>))</span>
<span id="cb129-823"><a href="#cb129-823" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ex.r<span class="fl">.2021</span>, <span class="at">which =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)</span>
<span id="cb129-824"><a href="#cb129-824" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>))</span>
<span id="cb129-825"><a href="#cb129-825" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ex.r<span class="fl">.2022</span>, <span class="at">which =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)</span>
<span id="cb129-826"><a href="#cb129-826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-827"><a href="#cb129-827" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-828"><a href="#cb129-828" aria-hidden="true" tabindex="-1"></a><span class="st">```</span><span class="at">{r, echo=T}</span></span>
<span id="cb129-829"><a href="#cb129-829" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-830"><a href="#cb129-830" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-831"><a href="#cb129-831" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-832"><a href="#cb129-832" aria-hidden="true" tabindex="-1"></a><span class="at">model.2&lt;- lm(n.comments ~ log(Uniques) + author.sum + pct.positive +blocked.sum, data = merged)</span></span>
<span id="cb129-833"><a href="#cb129-833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-834"><a href="#cb129-834" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-835"><a href="#cb129-835" aria-hidden="true" tabindex="-1"></a><span class="at">par(mfrow = c(2,3))</span></span>
<span id="cb129-836"><a href="#cb129-836" aria-hidden="true" tabindex="-1"></a><span class="at">plot(model.2, which = 1:6)</span></span>
<span id="cb129-837"><a href="#cb129-837" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-838"><a href="#cb129-838" aria-hidden="true" tabindex="-1"></a><span class="st">```</span></span>
<span id="cb129-839"><a href="#cb129-839" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-840"><a href="#cb129-840" aria-hidden="true" tabindex="-1"></a><span class="do">### Number of comments   for 2021 and 2022:</span></span>
<span id="cb129-841"><a href="#cb129-841" aria-hidden="true" tabindex="-1"></a><span class="st">```</span><span class="at">{r, echo=T}</span></span>
<span id="cb129-842"><a href="#cb129-842" aria-hidden="true" tabindex="-1"></a><span class="at">summary(lm(n.comments ~ log(Uniques) + author.sum + pct.positive +blocked.sum, data = merged.2021))</span></span>
<span id="cb129-843"><a href="#cb129-843" aria-hidden="true" tabindex="-1"></a><span class="at">summary(lm(n.comments ~ log(Uniques) + author.sum + pct.positive +blocked.sum, data = merged.2022))</span></span>
<span id="cb129-844"><a href="#cb129-844" aria-hidden="true" tabindex="-1"></a><span class="st">```</span></span>
<span id="cb129-845"><a href="#cb129-845" aria-hidden="true" tabindex="-1"></a>None of the variables show significance <span class="cf">for</span> loyal user<span class="st">'s engagement(comments) in 2021. However, loyal users are significantly influenced by popularity, mood of the post and blocked comments in 2022. </span></span>
<span id="cb129-846"><a href="#cb129-846" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-847"><a href="#cb129-847" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-848"><a href="#cb129-848" aria-hidden="true" tabindex="-1"></a><span class="st">### Adding a weekday:</span></span>
<span id="cb129-849"><a href="#cb129-849" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-850"><a href="#cb129-850" aria-hidden="true" tabindex="-1"></a><span class="st">Adding the weekday of the post ad additional IV increases R\^2 and shows</span></span>
<span id="cb129-851"><a href="#cb129-851" aria-hidden="true" tabindex="-1"></a><span class="st">significance for one of the levels:</span></span>
<span id="cb129-852"><a href="#cb129-852" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-853"><a href="#cb129-853" aria-hidden="true" tabindex="-1"></a><span class="st">```{r, echo=T}</span></span>
<span id="cb129-854"><a href="#cb129-854" aria-hidden="true" tabindex="-1"></a><span class="st">summary(lm(n.comments ~ log(Uniques) + author.sum + pct.positive +blocked.sum + post.weekday, data = merged))</span></span>
<span id="cb129-855"><a href="#cb129-855" aria-hidden="true" tabindex="-1"></a><span class="st">summary(lm(`Exit rate` ~ log(Uniques) + author.sum + pct.positive+blocked.sum +post.weekday, data = merged))</span></span>
<span id="cb129-856"><a href="#cb129-856" aria-hidden="true" tabindex="-1"></a><span class="st">class(merged$post.weekday)</span></span>
<span id="cb129-857"><a href="#cb129-857" aria-hidden="true" tabindex="-1"></a><span class="st">```</span></span>
<span id="cb129-858"><a href="#cb129-858" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-859"><a href="#cb129-859" aria-hidden="true" tabindex="-1"></a><span class="st">### Adding early comments:</span></span>
<span id="cb129-860"><a href="#cb129-860" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-861"><a href="#cb129-861" aria-hidden="true" tabindex="-1"></a><span class="st">Measuring how early comments impact engagement:</span></span>
<span id="cb129-862"><a href="#cb129-862" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-863"><a href="#cb129-863" aria-hidden="true" tabindex="-1"></a><span class="st">```{r, echo=T}</span></span>
<span id="cb129-864"><a href="#cb129-864" aria-hidden="true" tabindex="-1"></a><span class="st">merged&lt;- merged %&gt;%</span></span>
<span id="cb129-865"><a href="#cb129-865" aria-hidden="true" tabindex="-1"></a><span class="st">  mutate (e.rate = `Exit rate`*10000)</span></span>
<span id="cb129-866"><a href="#cb129-866" aria-hidden="true" tabindex="-1"></a><span class="st">summary(lm(e.rate ~ log(Uniques) + author.sum +post.weekday +early.sum, data = merged))</span></span>
<span id="cb129-867"><a href="#cb129-867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-868"><a href="#cb129-868" aria-hidden="true" tabindex="-1"></a><span class="st">summary(lm(e.rate ~ log(Uniques) + author.sum+early.sum, data = merged))</span></span>
<span id="cb129-869"><a href="#cb129-869" aria-hidden="true" tabindex="-1"></a><span class="st">```</span></span>
<span id="cb129-870"><a href="#cb129-870" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-871"><a href="#cb129-871" aria-hidden="true" tabindex="-1"></a><span class="st">The model'</span>s predictive value is pretty <span class="fu">good</span> (probably due to popularity</span>
<span id="cb129-872"><a href="#cb129-872" aria-hidden="true" tabindex="-1"></a>being included) <span class="sc">:</span> <span class="dv">0</span>.<span class="fl">77.</span> It also appears that this connection We can</span>
<span id="cb129-873"><a href="#cb129-873" aria-hidden="true" tabindex="-1"></a>check it, by excluding the popularity, as see that R\<span class="sc">^</span><span class="dv">2</span> drops</span>
<span id="cb129-874"><a href="#cb129-874" aria-hidden="true" tabindex="-1"></a>dramatically<span class="sc">:</span></span>
<span id="cb129-875"><a href="#cb129-875" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-876"><a href="#cb129-876" aria-hidden="true" tabindex="-1"></a><span class="st">```</span><span class="at">{r, echo=T}</span></span>
<span id="cb129-877"><a href="#cb129-877" aria-hidden="true" tabindex="-1"></a><span class="at">summary(lm(e.rate ~ author.sum+early.sum, data = merged))</span></span>
<span id="cb129-878"><a href="#cb129-878" aria-hidden="true" tabindex="-1"></a><span class="st">```</span></span>
<span id="cb129-879"><a href="#cb129-879" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-880"><a href="#cb129-880" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-881"><a href="#cb129-881" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Conlusion</span></span>
<span id="cb129-882"><a href="#cb129-882" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-883"><a href="#cb129-883" aria-hidden="true" tabindex="-1"></a>This study explored the connection between user<span class="st">'s online engagement and bolg'</span>s author engagement.  To do so, we also analyzed the impact of post popularity on engagement. </span>
<span id="cb129-884"><a href="#cb129-884" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-885"><a href="#cb129-885" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-886"><a href="#cb129-886" aria-hidden="true" tabindex="-1"></a><span class="st">```</span><span class="at">{r, echo=T}</span></span>
<span id="cb129-887"><a href="#cb129-887" aria-hidden="true" tabindex="-1"></a><span class="at">knitr::include_graphics("C:</span><span class="sc">\\</span><span class="at">Users</span><span class="sc">\\</span><span class="at">Diana</span><span class="sc">\\</span><span class="at">OneDrive - University Of Massachusetts Medical School</span><span class="sc">\\</span><span class="at">Documents</span><span class="sc">\\</span><span class="at">R</span><span class="sc">\\</span><span class="at">R working directory</span><span class="sc">\\</span><span class="at">DACSS</span><span class="sc">\\</span><span class="at">603</span><span class="sc">\\</span><span class="at">my study files for dacss603</span><span class="sc">\\</span><span class="at">FP diagram .png")</span></span>
<span id="cb129-888"><a href="#cb129-888" aria-hidden="true" tabindex="-1"></a><span class="st">```</span></span>
<span id="cb129-889"><a href="#cb129-889" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-890"><a href="#cb129-890" aria-hidden="true" tabindex="-1"></a>The results showed that the post popularity is the major factor <span class="cf">for</span> online engagement and is negatively correlated with it. i.e. more popular posts tend to be less engaging.    </span>
<span id="cb129-891"><a href="#cb129-891" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-892"><a href="#cb129-892" aria-hidden="true" tabindex="-1"></a>We also identified two groups of users, whose engagement is measured with different metrics. We explored how blog author<span class="st">'s comments impact engagement of each group. We found  than there is no significant impact of authors engagement on users engagement.  Such characteristics, as post mood and blocked comments also showed no connection with engagement of either groups of users. </span></span>
<span id="cb129-893"><a href="#cb129-893" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-894"><a href="#cb129-894" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-895"><a href="#cb129-895" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-896"><a href="#cb129-896" aria-hidden="true" tabindex="-1"></a><span class="st">While engagement metrics (exit rate and comments) did not show</span></span>
<span id="cb129-897"><a href="#cb129-897" aria-hidden="true" tabindex="-1"></a><span class="st">significant contribution, authors comment appeared significant in this</span></span>
<span id="cb129-898"><a href="#cb129-898" aria-hidden="true" tabindex="-1"></a><span class="st">model. - this is really out of place, i just don'</span>t want to lose this.</span>
<span id="cb129-899"><a href="#cb129-899" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-900"><a href="#cb129-900" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>