{
  "hash": "a7e98e92d6a2f477c9c78cea61562830",
  "result": {
    "markdown": "---\ntitle: \"Homework 3\"\nauthor: \"Alexa Potter\"\ndescription: \"DACSS 603\"\ndate: \"04/11/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - hw2\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n-- Attaching packages --------------------------------------- tidyverse 1.3.2 --\nv ggplot2 3.4.0      v purrr   0.3.5 \nv tibble  3.1.8      v dplyr   1.0.10\nv tidyr   1.2.1      v stringr 1.5.0 \nv readr   2.1.3      v forcats 0.5.2 \n-- Conflicts ------------------------------------------ tidyverse_conflicts() --\nx dplyr::filter() masks stats::filter()\nx dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(car)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: carData\n\nAttaching package: 'car'\n\nThe following object is masked from 'package:dplyr':\n\n    recode\n\nThe following object is masked from 'package:purrr':\n\n    some\n```\n:::\n\n```{.r .cell-code}\nlibrary(smss)\ndata(\"student.survey\", package = \"smss\")\ndf <- student.survey\nlibrary(alr4)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: effects\nlattice theme set by effectsTheme()\nSee ?effectsTheme for details.\n```\n:::\n\n```{.r .cell-code}\ndata(\"UN11\", package = \"alr4\")\ndf <- UN11\ndata(\"Rateprof\", package = \"alr4\")\ndf <- Rateprof\ndata(\"water\", package = \"alr4\")\ndf <- water\n```\n:::\n\n\n\n# Question 1\n\nUnited Nations (Data file: UN11in alr4) The data in the file UN11 contains several variables,\nincluding ppgdp, the gross national product per person in U.S. dollars, and fertility, the birth rate per 1000 females, both from the year 2009. The data are for 199 localities, mostly UN member countries, but also other areas such as Hong Kong that are not independent countries. The data were collected from the United Nations (2011). We will study the dependence of fertility on ppgdp.\n\n\n\n## A \n\nIdentify the predictor and the response.\n\nPredictor: x = ppgdp\nResponse: y = fertility\n\n## B  \n\nDraw the scatterplot of fertility on the vertical axis versus ppgdp on the horizontal axis\nand summarize the information in this graph. Does a straight-line mean function seem to\nbe plausible for a summary of this graph?  \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(UN11, aes(y = fertility, x = ppgdp)) +\n  geom_point()+\n  stat_smooth(method = \"lm\", se = FALSE)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](Homework3_AlexaPotter_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\nThis distribution has more of a curve to it rather than a straight line. The fitted line does not seem accurately to reflect the distribution. \n\n\n## C  \n\nDraw the scatterplot of log(fertility) versus log(ppgdp) using natural logarithms. Does\nthe simple linear regression model seem plausible for a summary of this graph? If you use\na different base of logarithms, the shape of the graph won’t change, but the values on the\naxes will change.  \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(UN11, aes(y = log(fertility), x = log(ppgdp))) +\n  geom_point()+\n  stat_smooth(method = \"lm\", se = FALSE)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](Homework3_AlexaPotter_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\nYes the simpler linear regression does seem more plausible to fit and describe this distribution. \n\n\n# Question 2  \n\nAnnual income, in dollars, is an explanatory variable in a regression analysis. For a British\nversion of the report on the analysis, all responses are converted to British pounds sterling (1 pound equals about 1.33 dollars, as of 2016).  \n\n## A  \n\nHow, if at all, does the slope of the prediction equation change?  \nThe slope would not change in this conversion but the y intercept would. \n\n## B  \n\nHow, if at all, does the correlation change? \n\nCorrelation would not change as its standardized, its value does not depend on the unit of measurement.\n\n# Question 3  \n\nWater runoff in the Sierras (Data file: water in alr4)   \nCan Southern California’s water supply in future years be predicted from past data? One factor affecting water availability is stream runoff. If runoff could be predicted, engineers, planners, and policy makers could do their jobs more efficiently. The data file contains 43 years’ worth of precipitation measurements taken at six sites in the Sierra Nevada mountains (labeled APMAM, APSAB, APSLAKE, OPBPC, OPRC, and OPSLAKE) and stream runoff volume at a site near Bishop, California, labeled BSAAM.  \nDraw the scatterplot matrix for these data and summarize the information available from these plots. (Hint: Use the pairs() function.)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(water)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  Year APMAM APSAB APSLAKE OPBPC  OPRC OPSLAKE  BSAAM\n1 1948  9.13  3.58    3.91  4.10  7.43    6.47  54235\n2 1949  5.28  4.82    5.20  7.55 11.11   10.26  67567\n3 1950  4.20  3.77    3.67  9.52 12.20   11.35  66161\n4 1951  4.60  4.46    3.93 11.14 15.15   11.13  68094\n5 1952  7.15  4.99    4.88 16.34 20.05   22.81 107080\n6 1953  9.70  5.65    4.91  8.88  8.15    7.41  67594\n```\n:::\n\n```{.r .cell-code}\npairs(water[,2:8])\n```\n\n::: {.cell-output-display}\n![](Homework3_AlexaPotter_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nThis scatterplot shows similiar linear relationships between the precipitation values of OPBPC, OPRC, and OPSLAKE with the stream run off of BSAAM.\n\n# Question 4  \n\nProfessor ratings (Data file: Rateprof in alr4) In the website and online forum RateMyProfessors.com, students rate and comment on their instructors. Launched in 1999, the site includes millions of ratings on thousands of instructors. The data file includes the summaries of the ratings of 364 instructors at a large campus in the Midwest (Bleske-Rechek and Fritsch, 2011). Each instructor included in the data had at least 10 ratings over a several year period. Students provided ratings of 1–5 on quality, helpfulness, clarity, easiness of instructor’s courses, and raterInterest in the subject matter covered in the instructor’s courses. The data file provides the averages of these five ratings. Create a scatterplot matrix of these five variables. Provide a brief description of the relationships between the five ratings.  \n\n\n::: {.cell}\n\n```{.r .cell-code}\n#head(Rateprof)\npairs(Rateprof[,8:12])\n```\n\n::: {.cell-output-display}\n![](Homework3_AlexaPotter_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\nFrom this scatterplot, my first observation is that quality, helpfulness, and clarity all have a positive correlation within themselves. Quality seems to have a positive correlation overall with the other variables. Helpfulness and clarity overall seem to have a positive correlation with other variables, but less direct them quality. Easiness and raterInterest do not reflect a confident correlation overall. \n\n# Question 5  \n\nFor the student.survey data file in the smss package, conduct regression analyses relating\n(by convention, y denotes the outcome variable, x denotes the explanatory variable) \n\n(i) y = political ideology and x = religiosity,  \n(ii) y = high school GPA and x = hours of TV watching.  \n\n(You can use ?student.survey in the R console, after loading the package, to see what each variable means.)  \n\n## A  \n\nGraphically portray how the explanatory variable relates to the outcome variable in\neach of the two cases \n\n### i  \ny = political ideology and x = religiosity \n\n\n::: {.cell}\n\n```{.r .cell-code}\n#head(student.survey)\n#unique(student.survey$pi)\n#unique(student.survey$re)\n\n#class(student.survey$pi) <- \"character\"\n#class(student.survey$re) <- \"character\"\n\nstudent.survey %>%recode(pi, c(\"very conservative\" = \"7\", \n                            \"conservative\"= \"6\", \n                            \"slightly conservative\" = \"5\", \n                            \"moderate\" = \"4\", \n                            \"slightly liberal\" = \"3\", \n                            \"liberal\"= \"2\", \n                            \"very liberal\"= \"1\",\n                            .default = \"0\"))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in if (as.factor) {: the condition has length > 1 and only the first\nelement will be used\n```\n:::\n\n::: {.cell-output .cell-output-error}\n```\nError in if (as.factor) {: argument is not interpretable as logical\n```\n:::\n\n```{.r .cell-code}\nstudent.survey %>%recode(re, c(\"every week\" = \"4\", \n                            \"most weeks\" = \"3\", \n                            \"occasionally \"= \"2\", \n                           \"never\"= \"1\",\n                           .default = \"0\"))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in is.factor(x): object 're' not found\n```\n:::\n\n```{.r .cell-code}\nclass(student.survey$pi) <- \"numeric\"\nclass(student.survey$re) <- \"numeric\"\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = student.survey, aes(x=re, y=pi))+\n  geom_point()+\n  geom_smooth(method = \"lm\", se = FALSE)+\n  scale_x_continuous(labels= c(\"every week\", \n                            \"most weeks\", \n                            \"occasionally\", \n                            \"never\"),\n                     breaks = c(4,3,2,1))+\n  scale_y_continuous(labels = c(\"very conservative\", \n                            \"conservative\", \n                            \"slightly conservative\", \n                            \"moderate\", \n                            \"slightly liberal\", \n                            \"liberal\", \n                            \"very liberal\"),\n                     breaks = c(7,6,5,4,3,2,1)) +\n  labs(x = \"Religiosity\", y = \"Political Ideology\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](Homework3_AlexaPotter_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(lm(pi~re, data=student.survey))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = pi ~ re, data = student.survey)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-2.81243 -0.87160  0.09882  1.12840  3.09882 \n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)    \n(Intercept)   0.9308     0.4252   2.189   0.0327 *  \nre            0.9704     0.1792   5.416 1.22e-06 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 1.345 on 58 degrees of freedom\nMultiple R-squared:  0.3359,\tAdjusted R-squared:  0.3244 \nF-statistic: 29.34 on 1 and 58 DF,  p-value: 1.221e-06\n```\n:::\n:::\n\n### ii  \ny = high school GPA and x = hours of TV watching   \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = student.survey, aes(x=tv, y=hi))+\n  geom_point()+\n  geom_smooth(method = \"lm\", se = FALSE)+\n  labs(x = \"Hours of TV Watching\", y = \"High School GPA\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](Homework3_AlexaPotter_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(lm(hi~tv, data=student.survey))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = hi ~ tv, data = student.survey)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-1.2583 -0.2456  0.0417  0.3368  0.7051 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept)  3.441353   0.085345  40.323   <2e-16 ***\ntv          -0.018305   0.008658  -2.114   0.0388 *  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.4467 on 58 degrees of freedom\nMultiple R-squared:  0.07156,\tAdjusted R-squared:  0.05555 \nF-statistic: 4.471 on 1 and 58 DF,  p-value: 0.03879\n```\n:::\n:::\n\n\n\n## B  \n\nSummarize and interpret results of inferential analyses.\n\nThe results in both regressions show they are statistically significant, however, the first graph displays the results as a linear regression better than the second example. A different form of regression would be better to capture the relationship rather than a linear regression. \n\n",
    "supporting": [
      "Homework3_AlexaPotter_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}