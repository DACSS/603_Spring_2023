{
  "hash": "9f247a3056d3a0c83deddacdceb4967e",
  "result": {
    "markdown": "---\ntitle: \"Estimating Per Capita Food Waste in the United States\"\nauthor: \"Asch Harwood\"\ndescription: \"Final Project Part 2: Proposal\"\ndate: \"04/20/23\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - finalpart2\neditor: \n  markdown: \n    wrap: 72\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"dplyr\")\nlibrary(\"knitr\")\nlibrary(kableExtra)\nlibrary(xtable)\nlibrary(ggplot2)\nlibrary(GGally)\nlibrary(lme4)\nlibrary(car)\nlibrary(dplyr)\nlibrary(tidyverse)\nlibrary(stargazer)\n```\n:::\n\n\n# Background\n\nReFED, a national nonprofit that advocates for the reduction of food\nwaste, maintains several models to estimate the amount of wasted food\nand its greenhouse gas emissions in the United States. Collectively,\nU.S. residents and businesses throw out roughly 91 million tons of food\nannually, contributing 6 percent of the total net US greenhouse gas\nemissions, and compromising 22% of our total fresh waste use.\n\nCreating system-level estimates in the food supply chain is notoriously\ndifficult. To produce these estimates, ReFED employs a 'mass balance'\naccounting approach. For each sector, ReFED estimates the value of the\ntotal supply of food in US dollars. It then applies a price per lb\nconversion factor to convert dollars to tons to estimate the total suppy\nof food in weight. ReFED then draws on academic and private-sector\nstudies to determine 'surplus rates'--the share of food that is not\ngoing to its intended destination. The supply of food is multiplied by\nthese surplus rates to determine the total amount of surplus food in a\ngiven place and year.\n\nA limitation of this approach, however, is that the research to estimate\nsurplus rates is rarely, if ever, repeated at regular intervals. As a\nresult, the lack of year-over-year and geographic variation in surplus\nrates makes it incredibly difficult to identify systematic changes in\nthe food waste behaviors.\n\n# Proposal\n\nMy goal is to develop a cost-effective and maintainable model to\nestimate per capita food waste in the United States in a given year. I\nhypothesize that per capita food waste is a function of the current\nsupply of available food combined with corporate and consumer knowledge,\nattitude, and beliefs about climate change.\n\nFood supply is an important explanatory variable for two reasons: 1)food\nwaste is always a share of food supply and there is always a minimum\namount of food needed to feed the population, and 2)it is standard\npractice at food business to produce/stock more food than needed. As a\nresult, supply almost always outstrips demand, leading to food waste.\n\nHowever, I also believe that concern about climate-related issues\ninfluences food production/purchasing decisions. In particular, I\nhypothesize that greater concern for climate-related issues correlates\nwith reduced food waste when controlling for issues like population. If\nfolks are more concerned with climate-related issues, then they are more\nlikely to try and 'right-size' the amount of food that is produced on\nthe supply chain side or purchased on the consumer side.\n\nTo test this hypothesis, we need a ground truth of food waste. The best\npublicly available direct measurement of food waste tends to be waste\ncharacterization studies. State and local governments periodically\nconduct inferential waste characterization studies, where they randomly\nselect a series of 200 - 300 lb samples from landfills and other waste\nmanagement facilities across several seasons in a year, which they\nseparate and weigh. These studies are then used to set waste management\nbudgets, 'right-size' landfill capacity, and create/evaluate programs\nmeant to divert recyclable and compostable materials from landfills.\n\nBut waste characterization studies are not conducted regularly or\nconsistently (or at all in many places), and, to my knowledge, there are\nno nationally-representative waste characterization studies. The\ndominant approach, employed by the Environment Protection Agency and the\nUnited States Department of Agriculture, is to use a handful of the\npublicly available studies, calculate a per capita estimate for the\nstudy, and then scale that number by the current calendar year\npopulation size.\n\nNevertheless, I believe there is the potential to creatively use these\nstudies to estimate the share of food waste in landfills at the\nnational-level over time, and, hopefully, to determine if there are any\nsystematic changes in food waste management behavior in the commercial\nand residential sectors.\n\n### Research Questions\n\n1.  How much food is currently wasted on a per capita basis in the\n    United States?\n\n2.  What factors explain differences in waste between states and over\n    time?\n\n### Independent/Dependent Variables\n\n**Food Supply**\n\n-   As a proxy for food supply, which is quite difficult to measure, I\n    use supermarket revenue data by state from the years 2005 - 2021,\n    which I extracted from Ibisworld State Industry reports. I then\n    converted this measure to a state per capita basis. In order to fill\n    the missing years from 2000 - 2005, I fit a linear regression based\n    on state, population, and year. However, this is meant to be a\n    placeholder for the sack of this exercise. In future iterations, I\n    plan to use data from 2005 to present.\n\n**Consumer Knowledge**\n\n-   As a proxy for consumer knowledge, I extracted state-level search\n    volume for the topic, \"Climate Change\", using Google Trends\n    Supercharged, which provides absolute search volumn from 2004 to\n    present. I then converted this measure to a state per capita basis.\n    To fill missing years 2000 - 2003, I also fit a linear regression to\n    serve as placeholder. Again, for future iterations, I plan to use a\n    baseline of 2005.\n\n**Corporate Knowledge**\n\n-   As a proxy for corporate knowledge/concern about climate changed, I\n    extracted state-level search volume for the topic, \"Sustainability\",\n    using Google Trends Supercharged. I then converted this measure to a\n    state per capita basis. To fill missing years 2000 - 2003, I also\n    fit a linear regression to serve as placeholder. Again, for future\n    iterations, I plan to use a baseline of 2005.\n\n**Food Waste**\n\n-   For the dependent variable, food waste per capita, I extracted\n    absolute food waste weights from 20 state-level municipal solid\n    waste characterization studies as well as the sample sizes collected\n    to produce each of those calculations. I then calculated food waste\n    per capita. Given the small size of this dataset, I multiplied the\n    sample size for each observation by the population in the respective\n    state, which I then used as weights in the model.\n\n### Control Variables\n\n**Year**\n\n-   I wanted to control for the impact of change over time because\n    estimates from other models (i.e. ReFED) show a general increase in\n    food waste over time.\n\n**Population**\n\n-   I control for population in two different ways - using per capita\n    measures and including population as a control variable. Per capita\n    metrics do not fully capture the influence of population, which\n    hypothetically should correlate with changes in food waste.\n    Controlling for population increased the coefficients for my two\n    statistically significant explanatory variables as well as the\n    multiple and adjusted r-squared.\n\n### Hypothesis\n\n**Food Supply**\n\nH0: Supermarket revenue is not correlated with per capita food waste\n\nH1: Increased supermarket revenue is correlated with increased per\ncapita food waste\n\n**Consumer Knowledge**\n\nH0: Google search volume about 'climate change' is not correlated with\nper capita food waste\n\nH1: Google search volume about 'climate change' is negatively correlated\nwith per capita food waste\n\n**Corporate Knowledge**\n\nH0: Google search volume about 'sustainability' is not correlated with\nper capita food waste\n\nH1: Google search volume about 'sustainability' is negatively correlated\nwith per capita food waste\n\n### Exploratory Data Analysis\n\nCurrently, no comprehensive aggregate municipal solid waste\ncharacterization datasets exist for the United States in the public\ndomain. To address this, I have compiled roughly 300 waste\ncharacterization studies, of which I have parsed and coded roughly 50 to\ndate, based on the following (rough) criteria[^1]. To be eligible to be\nincluded in my dataset, each study must be:\n\n[^1]: I recognize that we were encouraged to work with pre-existing\n    datasets. Nevertheless, I view this as an opportunity to prototype a\n    project I believe might have real-world applicability in my\n    professional life.\n\n-   conducted in the United States and be representative of the state,\n    county, or local level between the years of 2000 and 2021\n-   infer the amount of total food as a share of the total amount of\n    municipal solid waste for an entire year\n-   report the number of samples, which need to be between 200 - 300 lbs\n    each\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwaste = read.csv('/Users/aschharwood/Desktop/intro_quant_spring_2023/603_Spring_2023/posts/_data/x_y_state_waste.csv')\n\n#create lists to filter waste to x, y and controls\ny_col <- \"total_food_per_capita\"\nx_cols <- c(\"gt_abs_sustain_per_capita\",\"gt_abs_cc_per_capita\" )\ncontrol_cols <- c('year',\"state\",\"sample_size\",\"ibis_grcy_revenue_usd_m_per_capita_state\",\"population\")\ndrop_cols <- c('total_food',\"total_waste_weight_per_capita\",\"gt_norm_cc\", \"ibis_grcy_revenue_usd_m_state\",\"gt_norm_sustain\", \"gt_norm_cc_per_capita\", \"total_waste_weight\",\"gt_abs_sustain\", \"gt_abs_cc\", \"sample_size_per_capita\", \"coincident_index\")\nx_y_cols <- append(x_cols, y_col)\nx_y_control_cols <- c(x_y_cols, control_cols)\n\n\n#filter dataset\nx_y_controls_df <- subset(waste, select = x_y_control_cols )\n\n# Reorder columns\ndesired_order <- c(\"state\", \"year\", \"total_food_per_capita\", \"gt_abs_sustain_per_capita\", \"gt_abs_cc_per_capita\", \"ibis_grcy_revenue_usd_m_per_capita_state\", \"sample_size\", \"population\")\nx_y_controls_df <- x_y_controls_df[, desired_order]\nstr(x_y_controls_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t21 obs. of  8 variables:\n $ state                                   : chr  \"florida\" \"minnesota\" \"kansas\" \"pennsylvania\" ...\n $ year                                    : int  2000 2000 2001 2001 2001 2002 2003 2005 2005 2006 ...\n $ total_food_per_capita                   : num  0.0826 0.0797 0.0625 0.092 0.0898 ...\n $ gt_abs_sustain_per_capita               : num  0.124 0.401 0.409 0.131 0.19 ...\n $ gt_abs_cc_per_capita                    : num  0.304 1.179 1.549 0.393 0.908 ...\n $ ibis_grcy_revenue_usd_m_per_capita_state: num  16.09 11.73 9.66 12.54 9.39 ...\n $ sample_size                             : num  250 390 150 1185 400 ...\n $ population                              : int  16047515 4933692 2702162 12298970 5406835 3513424 35253159 8925922 2964454 859268 ...\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create a data frame with the data dictionary\ndata_dictionary <- data.frame(\n  `col_name` = c(\"state\", \"year\", \"total_food_per_capita\", \"gt_abs_sustain_per_capita\", \"gt_abs_cc_per_capita\", \"ibis_grcy_revenue_usd_m_per_capita_state\", \"sample_size\", \"population\"),\n  `d_type` = c(\"chr\", \"int\", \"dbl\", \"dbl\", \"dbl\", \"dbl\", \"num\", \"int\"),\n  description = c(\n    \"U.S. state where the study was conducted\",\n    \"Year when the study was conducted\",\n    \"Total food per capita in the studied area\",\n    \"Per capita absolute Google search volume for sustainability\",\n    \"Per capita absolute Google search volume for climate change\",\n    \"Per capita supermarket revenue (in USD million) for the state\",\n    \"Number of samples from original waste characterization study\",\n    \"Population of the studied area\"\n  )\n)\nkable(data_dictionary)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> col_name </th>\n   <th style=\"text-align:left;\"> d_type </th>\n   <th style=\"text-align:left;\"> description </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> state </td>\n   <td style=\"text-align:left;\"> chr </td>\n   <td style=\"text-align:left;\"> U.S. state where the study was conducted </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> year </td>\n   <td style=\"text-align:left;\"> int </td>\n   <td style=\"text-align:left;\"> Year when the study was conducted </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> total_food_per_capita </td>\n   <td style=\"text-align:left;\"> dbl </td>\n   <td style=\"text-align:left;\"> Total food per capita in the studied area </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> gt_abs_sustain_per_capita </td>\n   <td style=\"text-align:left;\"> dbl </td>\n   <td style=\"text-align:left;\"> Per capita absolute Google search volume for sustainability </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> gt_abs_cc_per_capita </td>\n   <td style=\"text-align:left;\"> dbl </td>\n   <td style=\"text-align:left;\"> Per capita absolute Google search volume for climate change </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> ibis_grcy_revenue_usd_m_per_capita_state </td>\n   <td style=\"text-align:left;\"> dbl </td>\n   <td style=\"text-align:left;\"> Per capita supermarket revenue (in USD million) for the state </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> sample_size </td>\n   <td style=\"text-align:left;\"> num </td>\n   <td style=\"text-align:left;\"> Number of samples from original waste characterization study </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> population </td>\n   <td style=\"text-align:left;\"> int </td>\n   <td style=\"text-align:left;\"> Population of the studied area </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = x_y_controls_df, aes(x=log(total_food_per_capita))) +\n  geom_histogram(bins=10)\n```\n\n::: {.cell-output-display}\n![](asch_harwood_final_project_part1_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Reshape the data to long format without the year variable\nlong_data <- x_y_controls_df %>%\n  select(total_food_per_capita, ibis_grcy_revenue_usd_m_per_capita_state, gt_abs_sustain_per_capita, gt_abs_cc_per_capita) %>%\n  gather(key = \"variable\", value = \"value\")\n\n# Create box and whisker plot for multiple variables without year\nggplot(data = long_data, aes(x = variable, y = value, fill = variable)) +\n  geom_boxplot() +\n  ggtitle(\"Box and Whisker Plot for X and Y Variables\") +\n  xlab(\"Variable\") +\n  ylab(\"Value\") +\n  theme(plot.title = element_text(hjust = 0.5, face = \"bold\", size = 14)) +\n  scale_fill_discrete(name = \"Variable\", labels = c(\"Total Food Per Capita\", \"Revenue Per Capita\", \"Sustainability Per Capita\", \"CC Per Capita\")) +\n  theme(legend.position = \"none\") +\n  scale_x_discrete(labels = c(\"Total Food Per Capita\", \"Revenue Per Capita\", \"Sustainability Per Capita\", \"CC Per Capita\"))\n```\n\n::: {.cell-output-display}\n![](asch_harwood_final_project_part1_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = x_y_controls_df, aes(x=log(gt_abs_sustain_per_capita), y=log(total_food_per_capita))) +\n  geom_point() +\n  ggtitle(\"Sustainability Search Volume vs. Total Food Per Capita\") +\n  theme(plot.title = element_text(hjust = 0.5, face = \"bold\", size = 14))\n```\n\n::: {.cell-output-display}\n![](asch_harwood_final_project_part1_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = x_y_controls_df, aes(x=log(gt_abs_cc_per_capita), y=log(total_food_per_capita))) +\n  geom_point() +\n  ggtitle(\"Climate Change Search Volume vs. Total Food Per Capita\") +\n  theme(plot.title = element_text(hjust = 0.5, face = \"bold\", size = 14))\n```\n\n::: {.cell-output-display}\n![](asch_harwood_final_project_part1_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = x_y_controls_df, aes(x=log(ibis_grcy_revenue_usd_m_per_capita_state), y=log(total_food_per_capita))) +\n  geom_point() +\n  ggtitle(\"Grocery Revenue Per Capita vs. Total Food Per Capita\") +\n  theme(plot.title = element_text(hjust = 0.5, face = \"bold\", size = 14))\n```\n\n::: {.cell-output-display}\n![](asch_harwood_final_project_part1_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n# Model Comparison\n\nGiven the small size of the dataset and the counter intuitive finding\naround the climate change trend discussed below, I'm withholding\njudgement about which is the 'better' model until I have increased the\nnumber of training observations for V2.\n\n**Model 1**:\n`log(total_food_per_capita) ~ log(gt_abs_sustain_per_capita) + log(gt_abs_cc_per_capita) + interaction_term + year + ibis_grcy_revenue_usd_m_per_capita_state + population`\n\n-   Uses\n    `log(gt_abs_sustain_per_capita) + log(gt_abs_cc_per_capita) + interaction_term +ibis_grcy_revenue_usd_m_per_capita_state`\n    as explanatory variables\n\n-   Controls for year and population\n\n-   Uses weighted least squares\n\n    **Interpretation**\n\n1.  **`log(gt_abs_sustain_per_capita)`**: A 1% increase in\n    log(sustainability search volume)is associated with a -0.31%\n    decrease in total food per capita, holding all other variables\n    constant. This is a negative relationship, indicating that as\n    interest in sustainability increases, total food waste per capita\n    decreases. This finding is statistically significant. Therefore, we\n    can reject the null hypothesis in favor of the alternative that\n    Google search volume about 'sustainability' is negatively correlated\n    with per capita food waste.\n\n2.  **`log(gt_abs_cc_per_capita)`**: A 1% increase in log(climate change\n    search volume) is associated with a 0.11% increase in total food\n    waste per capita, holding all other variables constant. This\n    positive relationship is counter intuitive. However, the results are\n    not statistically significant. There, we cannot reject the null\n    hypothesis that Google search volume about 'climate change' is not\n    correlated with per capita food waste.\n\n3.  **`interaction_term`**: The interaction term captures the combined\n    effect of climate change and sustainability search volume on total\n    food waste per capita. A 1-unit increase in the interaction term is\n    associated with a 0.001-unit increase in the log total food waste\n    per capita, holding all other variables constant. This finding is\n    also counter intuitive. Nevertheless, while the effect is\n    statistically significant, its an incredibly small effect.\n\n4.  **`ibis_grcy_revenue_usd_m_per_capita_state`**: A 1-unit increase in\n    grocery revenue per capita is associated with a 0.05-unit increase\n    in the log of total food waste per capita, holding all other\n    variables constant. This indicates a positive relationship between\n    grocery revenue per capita and total food per capita. This finding\n    is significant. Therefore, we can reject the null hypothesis in\n    favor of the alternative that increased supermarket revenue is\n    correlated with increased per capita food waste\n\n5.  Adjusted R-squared is 0.86, meaning that approximately 86% of the\n    variation in the log of total food waste per capita can be explained\n    by the included independent variables.\n\n**Model 2**:\n`log(total_food_per_capita) ~ log(gt_abs_sustain_per_capita) + year + ibis_grcy_revenue_usd_m_per_capita_state + population`\n\n-   Uses\n    `log(gt_abs_sustain_per_capita) +ibis_grcy_revenue_usd_m_per_capita_state`\n    as explanatory variables and drops climate change search volume and\n    interaction term\n\n-   Controls for year and population\n\n-   Uses weighted least squares\n\n**Interpretation/Hypothesis Testing**\n\n1.  `log(gt_abs_sustain_per_capita)`: A 1% increase in\n    log(sustainability search volume) is associated with -0.15%\n    reduction in per capita food waste. This is a negative relationship,\n    indicating that as interest in sustainability increases, total food\n    waste per capita decreases. This finding is statistically\n    significant. Therefore, we can reject the null hypothesis in favor\n    of the alternative that Google search volume about 'sustainability'\n    is negatively correlated with per capita food waste.\n\n2.  `ibis_grcy_revenue_usd_m_per_capita_state`: A 1-unit increase in\n    grocery revenue per capita is associated with a 0.04-unit increase\n    in the log of total food waste per capita, holding all other\n    variables constant. This indicates a positive relationship between\n    grocery revenue per capita and total food per capita. This finding\n    is significant. Therefore, we can reject the null hypothesis in\n    favor of the alternative that increased supermarket revenue is\n    correlated with increased per capita food waste.\n\n3.  The adjusted R-squared value is 0.81, meaning that approximately 81%\n    of the variation in the log of total food waste per capita can be\n    explained by the included independent variables.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx_y_controls_df$interaction_term <- x_y_controls_df$gt_abs_cc_per_capita * x_y_controls_df$gt_abs_sustain_per_capita\n\nfit_inter_pop <- lm(log(total_food_per_capita) ~ log(gt_abs_sustain_per_capita) + log(gt_abs_cc_per_capita) + interaction_term + year + ibis_grcy_revenue_usd_m_per_capita_state + population, data=x_y_controls_df, weights=x_y_controls_df$weights)\n\nfit_no_int_no_cc <- lm(log(total_food_per_capita) ~ log(gt_abs_sustain_per_capita) + year + ibis_grcy_revenue_usd_m_per_capita_state + population, data=x_y_controls_df, weights=x_y_controls_df$weights)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create a side-by-side table of the models using stargazer\nstargazer(fit_inter_pop, fit_no_int_no_cc,type = \"text\",\n          title = \"Food Waste Estimation Model Comparison\",\n          align = TRUE,\n          column.labels = c(\"M1:Interact/Pop\", \"M2:NoInteractCC\"),\n          ci = TRUE, # Show confidence intervals\n          digits = 2) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nFood Waste Estimation Model Comparison\n===============================================================================\n                                                  Dependent variable:          \n                                         --------------------------------------\n                                               log(total_food_per_capita)      \n                                          M1:Interact/Pop     M2:NoInteractCC  \n                                                (1)                 (2)        \n-------------------------------------------------------------------------------\nlog(gt_abs_sustain_per_capita)                 -0.10               0.02        \n                                           (-0.35, 0.15)       (-0.11, 0.14)   \n                                                                               \nlog(gt_abs_cc_per_capita)                       0.02                           \n                                           (-0.14, 0.18)                       \n                                                                               \ninteraction_term                               0.001                           \n                                          (-0.001, 0.002)                      \n                                                                               \nyear                                            0.01               0.004       \n                                           (-0.02, 0.04)       (-0.02, 0.03)   \n                                                                               \nibis_grcy_revenue_usd_m_per_capita_state        0.03               0.02        \n                                           (-0.004, 0.06)     (-0.004, 0.05)   \n                                                                               \npopulation                                      0.00               0.00        \n                                         (-0.0000, 0.0000)    (-0.00, 0.0000)  \n                                                                               \nConstant                                       -27.81             -11.02       \n                                          (-92.22, 36.61)     (-62.02, 39.98)  \n                                                                               \n-------------------------------------------------------------------------------\nObservations                                     21                 21         \nR2                                              0.54               0.49        \nAdjusted R2                                     0.34               0.36        \nResidual Std. Error                        0.23 (df = 14)     0.22 (df = 16)   \nF Statistic                              2.69* (df = 6; 14) 3.80** (df = 4; 16)\n===============================================================================\nNote:                                               *p<0.1; **p<0.05; ***p<0.01\n```\n:::\n:::\n\n\n# Model 1 Diagnostics\n\n-   Overall, while the residuals plots below seem promising in that\n    errors are appear to be normally distributed, all but two of our\n    explanatory and control variables have VIFs over 10, which suggests\n    high multicollinearity in the model. Likewise, the InfluencePlot\n    shows several, potentially influential outliers. Given the very\n    small size of the dataset, these issues are to be expected and I\n    suspect will be resolved by:\n\n1.  Setting 2005 as the baseline for our data\n2.  Increasing the number of observations in the data set\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(fit_inter_pop)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = log(total_food_per_capita) ~ log(gt_abs_sustain_per_capita) + \n    log(gt_abs_cc_per_capita) + interaction_term + year + ibis_grcy_revenue_usd_m_per_capita_state + \n    population, data = x_y_controls_df, weights = x_y_controls_df$weights)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.30006 -0.12195 -0.03181  0.10978  0.41744 \n\nCoefficients:\n                                           Estimate Std. Error t value Pr(>|t|)\n(Intercept)                              -2.781e+01  3.287e+01  -0.846    0.412\nlog(gt_abs_sustain_per_capita)           -1.041e-01  1.276e-01  -0.815    0.429\nlog(gt_abs_cc_per_capita)                 1.930e-02  7.964e-02   0.242    0.812\ninteraction_term                          6.638e-04  6.153e-04   1.079    0.299\nyear                                      1.246e-02  1.645e-02   0.757    0.462\nibis_grcy_revenue_usd_m_per_capita_state  2.603e-02  1.522e-02   1.710    0.109\npopulation                                2.026e-10  1.222e-08   0.017    0.987\n\nResidual standard error: 0.2269 on 14 degrees of freedom\nMultiple R-squared:  0.5353,\tAdjusted R-squared:  0.3361 \nF-statistic: 2.688 on 6 and 14 DF,  p-value: 0.05978\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Get the residuals and fitted values from the model\nresiduals <- residuals(fit_inter_pop)\nfitted_values <- fitted(fit_inter_pop)\n\n# Add the residuals and fitted values as new columns in the dataframe\nx_y_controls_df$residuals <- residuals\nx_y_controls_df$fitted_values <- fitted_values\n\n\nggplot(data = x_y_controls_df, aes(x=fitted_values, y=residuals)) +\n  geom_point() +\n  geom_hline(yintercept = 0)\n```\n\n::: {.cell-output-display}\n![](asch_harwood_final_project_part1_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nqqnorm(residuals, main=\"Q-Q Plot of Residuals\")\nqqline(residuals)\n```\n\n::: {.cell-output-display}\n![](asch_harwood_final_project_part1_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nvif(fit_inter_pop)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n          log(gt_abs_sustain_per_capita) \n                               20.461397 \n               log(gt_abs_cc_per_capita) \n                                8.913393 \n                        interaction_term \n                                3.783062 \n                                    year \n                                5.236875 \nibis_grcy_revenue_usd_m_per_capita_state \n                                3.301334 \n                              population \n                                7.399403 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ninfluencePlot(fit_inter_pop)\n```\n\n::: {.cell-output-display}\n![](asch_harwood_final_project_part1_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n      StudRes       Hat      CookD\n9   3.2976034 0.4689896 0.80455988\n10  0.7826560 0.7967672 0.35283368\n15 -1.8279347 0.3888175 0.26015878\n21 -0.2150056 0.6035192 0.01078732\n```\n:::\n:::\n\n\n# Model 2 Diagnostics\n\nAn inspection of residuals suggests a poorer fit than the previous\nmodel. This model clearly has several influential outliers. However,\nmulticollinearity, while still high, is lower than with the previous\nmodel.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(fit_no_int_no_cc)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = log(total_food_per_capita) ~ log(gt_abs_sustain_per_capita) + \n    year + ibis_grcy_revenue_usd_m_per_capita_state + population, \n    data = x_y_controls_df, weights = x_y_controls_df$weights)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.29342 -0.09513 -0.06571  0.17488  0.29828 \n\nCoefficients:\n                                           Estimate Std. Error t value Pr(>|t|)\n(Intercept)                              -1.102e+01  2.602e+01  -0.424    0.678\nlog(gt_abs_sustain_per_capita)            1.810e-02  6.342e-02   0.285    0.779\nyear                                      4.149e-03  1.303e-02   0.318    0.754\nibis_grcy_revenue_usd_m_per_capita_state  2.160e-02  1.321e-02   1.635    0.122\npopulation                                9.437e-09  9.006e-09   1.048    0.310\n\nResidual standard error: 0.223 on 16 degrees of freedom\nMultiple R-squared:  0.4869,\tAdjusted R-squared:  0.3586 \nF-statistic: 3.796 on 4 and 16 DF,  p-value: 0.02351\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Get the residuals and fitted values from the model\nresiduals <- residuals(fit_no_int_no_cc)\nfitted_values <- fitted(fit_no_int_no_cc)\n\n# Add the residuals and fitted values as new columns in the dataframe\nx_y_controls_df$residuals <- residuals\nx_y_controls_df$fitted_values <- fitted_values\n\n\nggplot(data = x_y_controls_df, aes(x=fitted_values, y=residuals)) +\n  geom_point() +\n  geom_hline(yintercept = 0)\n```\n\n::: {.cell-output-display}\n![](asch_harwood_final_project_part1_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nqqnorm(residuals, main=\"Q-Q Plot of Residuals\")\nqqline(residuals)\n```\n\n::: {.cell-output-display}\n![](asch_harwood_final_project_part1_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nvif(fit_no_int_no_cc)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n          log(gt_abs_sustain_per_capita) \n                                5.228978 \n                                    year \n                                3.402537 \nibis_grcy_revenue_usd_m_per_capita_state \n                                2.574899 \n                              population \n                                4.158284 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ninfluencePlot(fit_no_int_no_cc)\n```\n\n::: {.cell-output-display}\n![](asch_harwood_final_project_part1_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n      StudRes       Hat      CookD\n7   1.6911524 0.4383265 0.39989671\n10  1.4010859 0.4755714 0.33581882\n12 -1.7229492 0.3448754 0.27830446\n21 -0.5699311 0.5586771 0.08586253\n```\n:::\n:::\n\n\n### Next Steps\n\nMany of the problems in this model were expected given the incomplete 'toy' dataset I choose to use. That was an international decision. Before I devoted significant time to parsing 100 to 1000 page waste characterization pdf files, I wanted to see if I wanted to evaluate whether this approach might have merit. Based on this initial analysis, I do think there is enough evidence to move forward with creating a more robust dataset. The most important first step will be to increase the number of waste characterization observation. There is also an opportunity to build 'upstream' and 'downstream' models. I used total aggregate per capita food waste as my dependent variable but nearly all waste characterization studies make a distinction between residential and commercial waste.\n\n",
    "supporting": [
      "asch_harwood_final_project_part1_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}