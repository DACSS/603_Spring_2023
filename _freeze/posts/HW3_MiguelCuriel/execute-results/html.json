{
  "hash": "6486985d3d8cf16244927db42774838a",
  "result": {
    "markdown": "---\ntitle: \"Homework 3\"\nauthor: \"Miguel Curiel\"\ndescription: \"Regression analyses and transformations for DACSS 603.\"\ndate: \"04/11/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - hw3\n  - linear regression\n  - distribution transformation\neditor: \n  markdown: \n    wrap: 72\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load necessary packages\nlibrary(tidyverse)\nlibrary(alr4)\nlibrary(smss)\n```\n:::\n\n\n# Question 1\n\n**United Nations** (Data file: UN11in alr4) The data in the file UN11\ncontains several variables, including ppgdp, the gross national product\nper person in U.S. dollars, and fertility, the birth rate per 1000\nfemales, both from the year 2009. The data are for 199 localities,\nmostly UN member countries, but also other areas such as Hong Kong that\nare not independent countries. The data were collected from the United\nNations (2011). We will study the dependence of fertility on ppgdp.\n\na.  Identify the predictor and the response.\n\n    a.  Predictor = ppgdp\n\n    b.  Response = fertility\n\nb.  Draw the scatterplot of fertility on the vertical axis versus ppgdp\n    on the horizontal axis and summarize the information in this graph.\n    Does a straight-line mean function seem to be plausible for a\n    summary of this graph?\n\n    a.  No, a straight-line mean function does not seem plausible\n        because the distribution seems to be somewhat curvilinear.\n\nc.  Draw the scatterplot of log(fertility) versus log(ppgdp) using\n    natural logarithms. Does the simple linear regression model seem\n    plausible for a summary of this graph? If you use a different base\n    of logarithms, the shape of the graph won't change, but the values\n    on the axes will change.\n\n    a.  Yes, a simple linear regression model with a logarithmic\n        transformation seems to be plausible as it is better at\n        capturing the curvilinear relationship between variables.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = UN11, aes(x = ppgdp, y = fertility)) +\n  geom_point() +\n  geom_smooth(method = 'lm', se=F) +\n  labs(title='1.b. Scatterplot of fertility versus ppgdp')\n```\n\n::: {.cell-output-display}\n![](HW3_MiguelCuriel_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = UN11, aes(x = log(ppgdp), y = log(fertility))) +\n  geom_point() +\n  geom_smooth(method = 'lm', se=F) +\n  labs(title='1.c. Scatterplot of log(fertility) versus log(ppgdp)')\n```\n\n::: {.cell-output-display}\n![](HW3_MiguelCuriel_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n# Question 2\n\nAnnual income, in dollars, is an explanatory variable in a regression\nanalysis. For a British version of the report on the analysis, all\nresponses are converted to British pounds sterling (1 pound equals about\n1.33 dollars, as of 2016).\n\na.  How, if at all, does the slope of the prediction equation change?\n\n    a.  Using the standard slope-intercept equation - `y = mx + b` - the\n        slope (m) will not change as this this relationship is\n        independent of the unit of measurement. What will change is the\n        intercept (b), meaning that the starting point will be 1.33\n        instead of 1.\n\nb.  How, if at all, does the correlation change?\n\n    a.  Similarly to the slope, the correlation does not change as this\n        is affected by the relationship between two variables (y = mx)\n        rather than the starting point or, in this case, the unit of\n        measurement (b).\n\n# Question 3\n\n**Water runoff in the Sierras** (Data file: water in alr4) Can Southern\nCalifornia's water supply in future years be predicted from past data?\nOne factor affecting water availability is stream runoff. If runoff\ncould be predicted, engineers, planners, and policy makers could do\ntheir jobs more efficiently. The data file contains 43 years' worth of\nprecipitation measurements taken at six sites in the Sierra Nevada\nmountains (labeled APMAM, APSAB, APSLAKE, OPBPC, OPRC, and OPSLAKE) and\nstream runoff volume at a site near Bishop, California, labeled BSAAM.\nDraw the scatterplot matrix for these data and summarize the information\navailable from these plots.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npairs(water[,-1])\n```\n\n::: {.cell-output-display}\n![](HW3_MiguelCuriel_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nAs we can see from the scatterplot matrix, the sites that seem to\ncorrelate the most to BSAAM are OPSLAKE, OPRC, and OPBPC, while APSLAKE,\nAPSAB, and APMAM do not seem to be correlated at all. Therefore, if a\nmodel were to be created to predict runoff, a good idea would be to\nstart by including the precipitation of sites that begin with an \"O\" and\nexclude those that begin \"A\".\n\n# Question 4\n\n**Professor ratings** (Data file: Rateprof in alr4) In the website and\nonline forum RateMyProfessors.com, students rate and comment on their\ninstructors. Launched in 1999, the site includes millions of ratings on\nthousands of instructors. The data file includes the summaries of the\nratings of 364 instructors at a large campus in the Midwest\n(Bleske-Rechek and Fritsch, 2011). Each instructor included in the data\nhad at least 10 ratings over a several year period. Students provided\nratings of 1--5 on quality, helpfulness, clarity, easiness of\ninstructor's courses, and raterInterest in the subject matter covered in\nthe instructor's courses. The data file provides the averages of these\nfive ratings. Create a scatterplot matrix of these five variables.\nProvide a brief description of the relationships between the five\nratings.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npairs(~ quality + helpfulness + clarity + easiness + raterInterest, data=Rateprof)\n```\n\n::: {.cell-output-display}\n![](HW3_MiguelCuriel_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nJust by looking at the scatterplot matrix, there are a couple of\nvariables that are seemingly correlated. In particular, quality seems to\nhave a nearly perfect, positive correlation with helpfulness and\nclarity. Similarly, helpfulness seems to have a moderate-to-high\npositive correlation. In contrast, easiness of the instructor's courses\nand raterInterest do not seem to be highly correlated with any of the\nvariables.\n\n# Question 5\n\nFor the student.survey data file in the smss package, conduct regression\nanalyses relating (i) y = political ideology and x = religiosity, and\n(ii) y = high school GPA and x = hours of TV watching.\n\na.  Graphically portray how the explanatory variable relates to the\n    outcome variable in each of the two cases.\n\n    1.  Plots can be found below.\n\nb.  Summarize and interpret results of inferential analyses.\n\n    1.  From the numerical analysis, both instances are statistically\n        significant, however scenario i (political ideology against\n        religiosity) is much more significant than scenario ii (high\n        school GPA against hours spent watching TV). Further, from the\n        graphics we can see that only scenario i (political ideology\n        against religiosity) is clearly linear, whereas scenario ii\n        (high school GPA against hours spent watching TV) could benefit\n        from preprocessing techniques such as a logarithmic\n        transformation or treating outliers/missing data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"student.survey\", package = \"smss\")\ndf <- student.survey\n\ndf$pi_numeric <- factor(df$pi, levels = c(\n  \"very conservative\"\n  ,\"conservative\"\n  ,\"slightly conservative\"\n  ,\"moderate\"\n  ,\"slightly liberal\"\n  ,\"liberal\"\n  ,\"very liberal\"\n), labels = c(1,2,3,4,5,6,7)\n)\n\ndf$pi_numeric <- as.numeric(as.character(df$pi_numeric))\n\ndf$re_numeric <- factor(df$re, levels = c(\n  \"never\"\n  ,\"occasionally\"\n  ,\"most weeks\"\n  ,\"every week\"\n), labels = c(1,2,3,4)\n)\n\ndf$re_numeric <- as.numeric(as.character(df$re_numeric))\n\nsummary(lm(pi_numeric ~ re_numeric, data=df))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = pi_numeric ~ re_numeric, data = df)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-3.09882 -1.12840 -0.09882  0.87160  2.81243 \n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)    \n(Intercept)   7.0692     0.4252  16.624  < 2e-16 ***\nre_numeric   -0.9704     0.1792  -5.416 1.22e-06 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 1.345 on 58 degrees of freedom\nMultiple R-squared:  0.3359,\tAdjusted R-squared:  0.3244 \nF-statistic: 29.34 on 1 and 58 DF,  p-value: 1.221e-06\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = df, aes(x = re_numeric, y = pi_numeric)) +\n  geom_point() +\n  geom_smooth(method = 'lm', se=F) +\n  labs(title='5.a.i. Scatterplot of political ideology versus religiosity'\n       ,x=\"religiosity\"\n       ,y='political ideology') +\n  scale_y_continuous(labels = c(\n  \"very conservative\"\n  ,\"conservative\"\n  ,\"slightly conservative\"\n  ,\"moderate\"\n  ,\"slightly liberal\"\n  ,\"liberal\"\n  ,\"very liberal\"\n    ), breaks = c(1,2,3,4,5,6,7)) +\n  scale_x_continuous(labels = c(\n  \"never\"\n  ,\"occasionally\"\n  ,\"most weeks\"\n  ,\"every week\"\n    ), breaks = c(1,2,3,4))\n```\n\n::: {.cell-output-display}\n![](HW3_MiguelCuriel_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = df, aes(x = tv, y = hi)) +\n  geom_point() +\n  geom_smooth(method = 'lm', se=F) +\n  labs(title='5.a.ii. Scatterplot of high school GPA against hours spent watching TV'\n       ,x='hours spent watching TV'\n       ,y='high school GPA')\n```\n\n::: {.cell-output-display}\n![](HW3_MiguelCuriel_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "HW3_MiguelCuriel_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}